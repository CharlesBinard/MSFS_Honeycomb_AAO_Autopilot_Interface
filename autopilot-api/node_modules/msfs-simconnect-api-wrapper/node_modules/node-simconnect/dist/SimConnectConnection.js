"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SimConnectConnection = void 0;
const events_1 = require("events");
const SimConnectDataType_1 = require("./enums/SimConnectDataType");
const RawBuffer_1 = require("./RawBuffer");
const connectionParameters_1 = require("./connectionParameters");
const TextType_1 = require("./enums/TextType");
const Protocol_1 = require("./enums/Protocol");
const SimConnectSocket_1 = require("./SimConnectSocket");
const DataSetFlag_1 = require("./flags/DataSetFlag");
const SimConnectConstants_1 = require("./SimConnectConstants");
const SimConnectPacketBuilder_1 = require("./SimConnectPacketBuilder");
const recv_1 = require("./recv");
const openPacketData = {
    [Protocol_1.Protocol.FSX_RTM]: {
        major: 0,
        minor: 0,
        buildMajor: 60905,
        buildMinor: 0,
        alias: 'XSF',
    },
    [Protocol_1.Protocol.FSX_SP1]: {
        major: 10,
        minor: 0,
        buildMajor: 61355,
        buildMinor: 0,
        alias: 'XSF',
    },
    [Protocol_1.Protocol.FSX_SP2]: {
        major: 10,
        minor: 0,
        buildMajor: 61259,
        buildMinor: 0,
        alias: 'XSF',
    },
    [Protocol_1.Protocol.KittyHawk]: {
        major: 11,
        minor: 0,
        buildMajor: 62651,
        buildMinor: 3,
        alias: 'HK', // "Hawk" + "Kitty"?
    },
};
var SimConnectError;
(function (SimConnectError) {
    SimConnectError["UnknownHost"] = "Unknown host";
    SimConnectError["GuidInvalidSize"] = "GUID is not 16 bytes long";
    SimConnectError["Unimplemented"] = "Not yet implemented";
    SimConnectError["VersionMismatch"] = "Invalid version2";
    SimConnectError["PacketTooLarge"] = "Packet too large";
    SimConnectError["InvalidRead"] = "Invalid read";
    SimConnectError["InvalidProtocol"] = "Invalid protocol version";
    SimConnectError["BadVersion"] = "Unsupported protocol version";
})(SimConnectError || (SimConnectError = {}));
class SimConnectConnection extends events_1.EventEmitter {
    constructor(appName, protocolVersion) {
        super();
        this._packetDataBuffer = new RawBuffer_1.RawBuffer(256);
        this.off = this.removeListener;
        this.addListener = this.on;
        this._appName = appName;
        this._packetsSent = 0;
        this._ourProtocol = protocolVersion;
        this._openTimeout = null;
        this._clientSocket = new SimConnectSocket_1.SimConnectSocket();
        this._clientSocket.on('connect', this._open.bind(this));
        this._clientSocket.on('data', this._handleMessage.bind(this));
        this._clientSocket.on('close', () => this.emit('close'));
        this._clientSocket.on('error', (connectError) => this.emit('error', connectError));
    }
    on(event, listener) {
        return super.on(event, listener);
    }
    once(event, listener) {
        return super.once(event, listener);
    }
    removeListener(event, listener) {
        return super.removeListener(event, listener);
    }
    removeAllListeners(event) {
        return super.removeAllListeners(event);
    }
    emit(event, ...args) {
        return super.emit(event, ...args);
    }
    connect(options) {
        if (options && 'host' in options && 'port' in options) {
            this._clientSocket.connect(Object.assign({ type: 'ipv4' }, options));
        }
        else if (options && 'remote' in options) {
            // For backwards-compatibility
            this._clientSocket.connect(Object.assign({ type: 'ipv4' }, options.remote));
        }
        else {
            (0, connectionParameters_1.autodetectServerAddress)(options === null || options === void 0 ? void 0 : options.simConnectCfgIndex).then((address) => {
                this._clientSocket.connect(address);
            });
        }
    }
    // eslint-disable-next-line
    requestResponseTimes(nCount) {
        // TODO: implement simconnect function
        // this one needs special care: it send a packet (id 0x03, one param : nCount)
        // and receive 8 float data (with response id 0x00010001) . Some calculations
        // has to be done
        throw Error(SimConnectError.Unimplemented);
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    mapClientEventToSimEvent(clientEventId, eventName) {
        return this._buildAndSend(this._beginPacket(0x04)
            .putInt32(clientEventId)
            .putString256(eventName || ''));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    transmitClientEvent(objectId, clientEventId, data, notificationGroupId, flags) {
        return this._buildAndSend(this._beginPacket(0x05)
            .putInt32(objectId)
            .putInt32(clientEventId)
            .putInt32(data)
            .putInt32(notificationGroupId)
            .putInt32(flags));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    setSystemEventState(clientEventId, state) {
        return this._buildAndSend(this._beginPacket(0x06)
            .putInt32(clientEventId)
            .putInt32(state ? 1 : 0));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    addClientEventToNotificationGroup(notificationGroupId, clientEventId, maskable) {
        return this._buildAndSend(this._beginPacket(0x07)
            .putInt32(notificationGroupId)
            .putInt32(clientEventId)
            .putInt32(maskable ? 1 : 0));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    removeClientEvent(notificationGroupId, clientEventId) {
        return this._buildAndSend(this._beginPacket(0x08) //
            .putInt32(notificationGroupId)
            .putInt32(clientEventId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    setNotificationGroupPriority(notificationGroupId, priority) {
        return this._buildAndSend(this._beginPacket(0x09) //
            .putInt32(notificationGroupId)
            .putInt32(priority));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    clearNotificationGroup(notificationGroupId) {
        return this._buildAndSend(this._beginPacket(0x0a) //
            .putInt32(notificationGroupId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    requestNotificationGroup(notificationGroupId, reserved, flags) {
        return this._buildAndSend(this._beginPacket(0x0b) //
            .putInt32(notificationGroupId)
            .putInt32(reserved)
            .putInt32(flags));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    addToDataDefinition(dataDefinitionId, datumName, unitsName, dataType, epsilon, datumId) {
        return this._buildAndSend(this._beginPacket(0x0c)
            .putInt32(dataDefinitionId)
            .putString256(datumName)
            .putString256(unitsName)
            .putInt32(dataType === undefined ? SimConnectDataType_1.SimConnectDataType.FLOAT64 : dataType)
            .putFloat32(epsilon || 0)
            .putInt32(datumId === undefined ? SimConnectConstants_1.SimConnectConstants.UNUSED : datumId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    clearDataDefinition(dataDefinitionId) {
        return this._buildAndSend(this._beginPacket(0x0d) //
            .putInt32(dataDefinitionId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     *
     * @remarks
     * Listen for {@link SimConnectRecvEvents.simObjectData} to get the data.
     *
     * @example
     * ```ts
     * const LIVE_DATA_REQ_ID = 1234;
     *
     * handle.addToDataDefinition(
     *   LIVE_DATA_REQ_ID,
     *   'STRUCT LATLONALT',
     *   null,
     *   SimConnectDataType.LATLONALT
     * );
     *
     * handle.on('simObjectData', recvSimObjectData => {
     *   if (recvSimObjectData.requestID === LIVE_DATA_REQ_ID) {
     *     console.log(readLatLonAlt(recvSimObjectData.data));
     *   }
     * });
     * ```
     */
    requestDataOnSimObject(dataRequestId, dataDefinitionId, objectId, period, flags, origin, interval, limit) {
        return this._buildAndSend(this._beginPacket(0x0e)
            .putInt32(dataRequestId)
            .putInt32(dataDefinitionId)
            .putInt32(objectId)
            .putInt32(period)
            .putInt32(flags || 0)
            .putInt32(origin || 0)
            .putInt32(interval || 0)
            .putInt32(limit || 0));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     *
     * @remarks
     * Listen for {@link SimConnectRecvEvents.simObjectDataByType} to get the data.
     *
     */
    requestDataOnSimObjectType(dataRequestId, dataDefinitionId, radiusMeters, type) {
        return this._buildAndSend(this._beginPacket(0x0f)
            .putInt32(dataRequestId)
            .putInt32(dataDefinitionId)
            .putInt32(radiusMeters)
            .putInt32(type));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    setDataOnSimObject(dataDefinitionId, objectId, data) {
        const packet = this._beginPacket(0x10) //
            .putInt32(dataDefinitionId)
            .putInt32(objectId);
        if (data instanceof Array) {
            packet
                .putInt32(DataSetFlag_1.DataSetFlag.DEFAULT) //
                .putInt32(data.length) //
                .putInt32(0); // Just a placeholder for array unit size
            const arrayStartPos = packet.getRawBuffer().getOffset();
            data.forEach(simConnectData => {
                simConnectData.writeTo(packet);
            });
            const arrayTotalSize = packet.getRawBuffer().getOffset() - arrayStartPos;
            const unitSize = arrayTotalSize / data.length;
            packet.putInt32(unitSize, arrayStartPos - 4); // Replace placeholder
        }
        else {
            const { tagged, arrayCount, buffer } = data;
            const bytes = buffer.getBuffer();
            packet
                .putInt32(tagged ? DataSetFlag_1.DataSetFlag.TAGGED : DataSetFlag_1.DataSetFlag.DEFAULT)
                .putInt32(arrayCount === 0 ? 1 : arrayCount)
                .putInt32(bytes.length)
                .putBytes(bytes);
        }
        return this._buildAndSend(packet);
    }
    /**
     * @deprecated use mapInputEventToClientEventEx1 instead
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    mapInputEventToClientEvent(inputGroupId, inputDefinition, clientEventDownID, downValue, clientEventUpID, upValue, maskable) {
        return this._buildAndSend(this._beginPacket(0x11)
            .putInt32(inputGroupId)
            .putString256(inputDefinition)
            .putInt32(clientEventDownID)
            .putInt32(downValue || 0)
            .putInt32(clientEventUpID === undefined ? SimConnectConstants_1.SimConnectConstants.UNUSED : clientEventUpID)
            .putInt32(upValue || 0)
            .putInt32(maskable ? 1 : 0));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    setInputGroupPriority(inputGroupId, priority) {
        return this._buildAndSend(this._beginPacket(0x12) //
            .putInt32(inputGroupId)
            .putInt32(priority));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    removeInputEvent(inputGroupId, inputDefinition) {
        return this._buildAndSend(this._beginPacket(0x13) //
            .putInt32(inputGroupId)
            .putString256(inputDefinition));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    clearInputGroup(inputGroupId) {
        return this._buildAndSend(this._beginPacket(0x14) //
            .putInt32(inputGroupId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    setInputGroupState(inputGroupId, state) {
        return this._buildAndSend(this._beginPacket(0x15)
            .putInt32(inputGroupId)
            .putInt32(state ? 1 : 0));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    requestReservedKey(clientEventId, keyChoice1, keyChoice2, keyChoice3) {
        return this._buildAndSend(this._beginPacket(0x16)
            .putInt32(clientEventId)
            .putString(keyChoice1 || '', 30)
            .putString(keyChoice2 || '', 30)
            .putString(keyChoice3 || '', 30));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    subscribeToSystemEvent(clientEventId, eventName) {
        return this._buildAndSend(this._beginPacket(0x17) //
            .putInt32(clientEventId)
            .putString256(eventName));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    unsubscribeFromSystemEvent(clientEventId) {
        return this._buildAndSend(this._beginPacket(0x18) //
            .putInt32(clientEventId));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherRequestInterpolatedObservation(dataRequestId, lat, lon, alt) {
        return this._buildAndSend(this._beginPacket(0x19)
            .putInt32(dataRequestId)
            .putFloat32(lat)
            .putFloat32(lon)
            .putFloat32(alt));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherRequestObservationAtStation(dataRequestId, ICAO) {
        return this._buildAndSend(this._beginPacket(0x1a) //
            .putInt32(dataRequestId)
            .putString(ICAO, 5));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherRequestObservationAtNearestStation(dataRequestId, lat, lon) {
        return this._buildAndSend(this._beginPacket(0x1b) //
            .putInt32(dataRequestId)
            .putFloat32(lat)
            .putFloat32(lon));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherCreateStation(dataRequestId, ICAO, name, lat, lon, alt) {
        return this._buildAndSend(this._beginPacket(0x1c)
            .putInt32(dataRequestId)
            .putString(ICAO, 5)
            .putString256(name)
            .putFloat32(lat)
            .putFloat32(lon)
            .putFloat32(alt));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherRemoveStation(dataRequestId, ICAO) {
        return this._buildAndSend(this._beginPacket(0x1d) //
            .putInt32(dataRequestId)
            .putString(ICAO, 5));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherSetObservation(seconds, metar) {
        return this._buildAndSend(this._beginPacket(0x1e) //
            .putInt32(seconds)
            .putString(metar)
            .putByte(0));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherSetModeServer(port, seconds) {
        return this._buildAndSend(this._beginPacket(0x1f) //
            .putInt32(port)
            .putInt32(seconds));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherSetModeTheme(themeName) {
        return this._buildAndSend(this._beginPacket(0x20) //
            .putString256(themeName));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherSetModeGlobal() {
        return this._buildAndSend(this._beginPacket(0x21));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherSetModeCustom() {
        return this._buildAndSend(this._beginPacket(0x22));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherSetDynamicUpdateRate(rate) {
        return this._buildAndSend(this._beginPacket(0x23) //
            .putInt32(rate));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherRequestCloudState(dataRequestId, minLat, minLon, minAlt, maxLat, maxLon, maxAlt, flags) {
        return this._buildAndSend(this._beginPacket(0x24)
            .putInt32(dataRequestId)
            .putFloat32(minLat)
            .putFloat32(minLon)
            .putFloat32(minAlt)
            .putFloat32(maxLat)
            .putFloat32(maxLon)
            .putFloat32(maxAlt)
            .putInt32(flags || 0));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherCreateThermal(dataRequestId, lat, lon, alt, radius, height, coreRate, coreTurbulence, sinkRate, sinkTurbulence, coreSize, coreTransitionSize, sinkLayerSize, sinkTransitionSize) {
        return this._buildAndSend(this._beginPacket(0x25)
            .putInt32(dataRequestId)
            .putFloat32(lat)
            .putFloat32(lon)
            .putFloat32(alt)
            .putFloat32(radius)
            .putFloat32(height)
            .putFloat32(coreRate)
            .putFloat32(coreTurbulence)
            .putFloat32(sinkRate)
            .putFloat32(sinkTurbulence)
            .putFloat32(coreSize)
            .putFloat32(coreTransitionSize)
            .putFloat32(sinkLayerSize)
            .putFloat32(sinkTransitionSize));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    weatherRemoveThermal(objectId) {
        return this._buildAndSend(this._beginPacket(0x26) //
            .putInt32(objectId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    aICreateParkedATCAircraft(containerTitle, tailNumber, airportID, dataRequestId) {
        return this._buildAndSend(this._beginPacket(0x27)
            .putString256(containerTitle)
            .putString(tailNumber, 12)
            .putString(airportID, 5)
            .putInt32(dataRequestId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    aICreateEnrouteATCAircraft(containerTitle, tailNumber, flightNumber, flightPlanPath, flightPlanPosition, touchAndGo, dataRequestId) {
        return this._buildAndSend(this._beginPacket(0x28)
            .putString256(containerTitle)
            .putString(tailNumber, 12)
            .putInt32(flightNumber)
            .putString(flightPlanPath, 260)
            .putFloat64(flightPlanPosition)
            .putInt32(touchAndGo ? 1 : 0)
            .putInt32(dataRequestId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    aICreateNonATCAircraft(containerTitle, tailNumber, initPos, dataRequestId) {
        const packet = this._beginPacket(0x29)
            .putString256(containerTitle)
            .putString(tailNumber, 12);
        initPos.writeTo(packet);
        packet.putInt32(dataRequestId);
        return this._buildAndSend(packet);
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    aICreateSimulatedObject(containerTitle, initPos, dataRequestId) {
        const packet = this._beginPacket(0x2a);
        packet.putString256(containerTitle);
        initPos.writeTo(packet);
        packet.putInt32(dataRequestId);
        return this._buildAndSend(packet);
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    aIReleaseControl(objectId, dataRequestId) {
        return this._buildAndSend(this._beginPacket(0x2b) //
            .putInt32(objectId)
            .putInt32(dataRequestId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    aIRemoveObject(objectId, dataRequestId) {
        return this._buildAndSend(this._beginPacket(0x2c) //
            .putInt32(objectId)
            .putInt32(dataRequestId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    aISetAircraftFlightPlan(objectId, flightPlanPath, dataRequestId) {
        return this._buildAndSend(this._beginPacket(0x2d)
            .putInt32(objectId)
            .putString(flightPlanPath, 260)
            .putInt32(dataRequestId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    executeMissionAction(guidInstanceId) {
        if (guidInstanceId.length !== 16)
            throw Error(SimConnectError.GuidInvalidSize);
        return this._buildAndSend(this._beginPacket(0x2e) //
            .putBytes(guidInstanceId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    completeCustomMissionAction(guidInstanceId) {
        if (guidInstanceId.length !== 16)
            throw Error(SimConnectError.GuidInvalidSize); // $NON-NLS-1$
        return this._buildAndSend(this._beginPacket(0x2f) //
            .putBytes(guidInstanceId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    cameraSetRelative6DOF(deltaX, deltaY, deltaZ, pitchDeg, bankDeg, headingDeg) {
        return this._buildAndSend(this._beginPacket(0x30)
            .putFloat32(deltaX)
            .putFloat32(deltaY)
            .putFloat32(deltaZ)
            .putFloat32(pitchDeg)
            .putFloat32(bankDeg)
            .putFloat32(headingDeg));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    menuAddItem(menuItem, menuEventId, data) {
        return this._buildAndSend(this._beginPacket(0x31) //
            .putString256(menuItem)
            .putInt32(menuEventId)
            .putInt32(data));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    menuDeleteItem(menuEventId) {
        return this._buildAndSend(this._beginPacket(0x32) //
            .putInt32(menuEventId));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    menuAddSubItem(menuEventId, menuItem, subMenuEventId, data) {
        return this._buildAndSend(this._beginPacket(0x33)
            .putInt32(menuEventId)
            .putString256(menuItem)
            .putInt32(subMenuEventId)
            .putInt32(data));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    menuDeleteSubItem(menuEventId, subMenuEventId) {
        return this._buildAndSend(this._beginPacket(0x34) //
            .putInt32(menuEventId)
            .putInt32(subMenuEventId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    requestSystemState(dataRequestId, state) {
        return this._buildAndSend(this._beginPacket(0x35) //
            .putInt32(dataRequestId)
            .putString256(state));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    setSystemState(state, paramInt, paramFloat, paramString) {
        return this._buildAndSend(this._beginPacket(0x36)
            .putString256(state)
            .putInt32(paramInt)
            .putFloat32(paramFloat)
            .putString256(paramString)
            .putInt32(0));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    mapClientDataNameToID(clientDataName, clientDataId) {
        return this._buildAndSend(this._beginPacket(0x37) //
            .putString256(clientDataName)
            .putInt32(clientDataId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    createClientData(clientDataId, size, readOnly) {
        return this._buildAndSend(this._beginPacket(0x38)
            .putInt32(clientDataId)
            .putInt32(size)
            .putInt32(readOnly ? 1 : 0));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    addToClientDataDefinition(dataDefinitionId, offset, sizeOrType, epsilon, datumId) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        return this._buildAndSend(this._beginPacket(0x39)
            .putInt32(dataDefinitionId)
            .putInt32(offset)
            .putInt32(sizeOrType)
            .putFloat32(epsilon || 0)
            .putInt32(datumId || 0));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    clearClientDataDefinition(dataDefinitionId) {
        return this._buildAndSend(this._beginPacket(0x3a) //
            .putInt32(dataDefinitionId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    requestClientData(clientDataId, dataRequestId, clientDataDefineID, period, flags, origin, interval, limit) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        return this._buildAndSend(this._beginPacket(0x3b)
            .putInt32(clientDataId)
            .putInt32(dataRequestId)
            .putInt32(clientDataDefineID)
            .putInt32(period)
            .putInt32(flags)
            .putInt32(origin || 0)
            .putInt32(interval || 0)
            .putInt32(limit || 0));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    setClientData(clientDataId, clientDataDefineID, reserved, arrayCount, unitSize, data) {
        return this._buildAndSend(this._beginPacket(0x3c)
            .putInt32(clientDataId)
            .putInt32(clientDataDefineID)
            .putInt32(0) // do not use arg
            .putInt32(1) // do not use arg
            // TODO: add support for arrays https://github.com/mharj/jsimconnect/blob/master/src/flightsim/simconnect/SimConnect.java#L3803
            .putInt32(unitSize)
            .putBytes(data));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    flightLoad(fileName) {
        this._buildAndSend(this._beginPacket(0x3d) //
            .putString(fileName, SimConnectConstants_1.SimConnectConstants.MAX_PATH));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    flightSave(fileName, title, description, flags // eslint-disable-line
    ) {
        // packet size 0x918 (SP1), 0xA1C (SP2)
        const packet = this._beginPacket(0x3e);
        packet.putString(fileName, SimConnectConstants_1.SimConnectConstants.MAX_PATH);
        if (this._ourProtocol >= Protocol_1.Protocol.FSX_SP2) {
            packet.putString(title === null ? fileName : title, SimConnectConstants_1.SimConnectConstants.MAX_PATH);
        }
        packet.putString(description, 2048);
        packet.putInt32(SimConnectConstants_1.SimConnectConstants.UNUSED);
        return this._buildAndSend(packet);
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    flightPlanLoad(fileName) {
        return this._buildAndSend(this._beginPacket(0x3f) //
            .putString(fileName, SimConnectConstants_1.SimConnectConstants.MAX_PATH));
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    text(type, timeSeconds, clientEventId, message) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        const packet = this._beginPacket(0x40)
            .putInt32(type)
            .putFloat32(timeSeconds)
            .putInt32(clientEventId);
        if (message !== null && message.length > 0) {
            packet.putInt32(message.length + 1);
            packet.putString(message);
        }
        else {
            packet.putInt32(1);
        }
        packet.putByte(0);
        return this._buildAndSend(packet);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    menu(timeSeconds, clientEventId, title, prompt, ...items) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        const packet = this._beginPacket(0x40)
            .putInt32(TextType_1.TextType.MENU)
            .putFloat32(timeSeconds)
            .putInt32(clientEventId)
            .putInt32(0); // size, will be set later
        if (!title && !prompt && items.length === 0) {
            packet.putByte(0);
        }
        else if (title && prompt) {
            packet
                .putString(title) //
                .putByte(0)
                .putString(prompt)
                .putByte(0);
            items.forEach(s => {
                packet.putString(s).putByte(0);
            });
        }
        // set size
        packet.putInt32(packet.getRawBuffer().getOffset() - 32, 28);
        return this._buildAndSend(packet);
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    subscribeToFacilities(type, clientEventId) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        return this._buildAndSend(this._beginPacket(0x41) //
            .putInt32(type)
            .putInt32(clientEventId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    unSubscribeToFacilities(type) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        return this._buildAndSend(this._beginPacket(0x42) //
            .putInt32(type));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    requestFacilitiesList(type, clientEventId) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        return this._buildAndSend(this._beginPacket(0x43) //
            .putInt32(type)
            .putInt32(clientEventId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    transmitClientEventEx(objectId, clientEventId, notificationGroupId, flags, data0 = 0, data1 = 0, data2 = 0, data3 = 0, data4 = 0) {
        return this._buildAndSend(this._beginPacket(0x44)
            .putInt32(objectId)
            .putInt32(clientEventId)
            .putInt32(notificationGroupId)
            .putInt32(flags)
            .putInt32(data0)
            .putInt32(data1)
            .putInt32(data2)
            .putInt32(data3)
            .putInt32(data4));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    addToFacilityDefinition(dataDefinitionId, fieldName) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        return this._buildAndSend(this._beginPacket(0x45) //
            .putInt32(dataDefinitionId)
            .putString256(fieldName));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    requestFacilityData(dataDefinitionId, dataRequestId, icao, region, type) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        const packet = this._beginPacket(type === undefined ? 0x46 : 0x4a)
            .putInt32(dataDefinitionId)
            .putInt32(dataRequestId)
            .putString(icao, 16)
            .putString(region || '', 4);
        if (type !== undefined) {
            // SimConnect_RequestFacilityData
            packet.putString(type, 1);
        }
        return this._buildAndSend(packet);
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    subscribeToFacilitiesEx1(type, newElemInRangeRequestID, oldElemOutRangeRequestID) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        return this._buildAndSend(this._beginPacket(0x47) //
            .putInt32(type)
            .putInt32(newElemInRangeRequestID)
            .putInt32(oldElemOutRangeRequestID));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    unSubscribeToFacilitiesEx1(type, unsubscribeNewInRange, unsubscribeOldOutRange) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        return this._buildAndSend(this._beginPacket(0x48) //
            .putInt32(type)
            .putByte(unsubscribeNewInRange ? 1 : 0)
            .putByte(unsubscribeOldOutRange ? 1 : 0));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    requestFacilitiesListEx1(type, clientEventId) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        return this._buildAndSend(this._beginPacket(0x49) //
            .putInt32(type)
            .putInt32(clientEventId));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    requestJetwayData(airportIcao, parkingIndices) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        const packet = this._beginPacket(0x4b)
            .putString(airportIcao, 16)
            .putInt32((parkingIndices === null || parkingIndices === void 0 ? void 0 : parkingIndices.length) || 0);
        if (parkingIndices === undefined || parkingIndices.length === 0) {
            packet.putInt32(0);
        }
        else {
            parkingIndices.forEach(parkingIndex => {
                packet.putInt32(parkingIndex);
            });
        }
        return this._buildAndSend(packet);
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    enumerateControllers() {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        const packet = this._beginPacket(0x4c);
        return this._buildAndSend(packet);
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    mapInputEventToClientEventEx1(inputGroupId, inputDefinition, clientEventDownID, downValue, // 0
    clientEventUpID, // SimConnectConstants.UNUSED
    upValue, // 0,
    maskable // false
    ) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        return this._buildAndSend(this._beginPacket(0x4d)
            .putInt32(inputGroupId)
            .putString256(inputDefinition)
            .putInt32(clientEventDownID)
            .putInt32(downValue || 0)
            .putInt32(clientEventUpID === undefined ? SimConnectConstants_1.SimConnectConstants.UNUSED : clientEventUpID)
            .putInt32(upValue || 0)
            .putInt32(maskable ? 1 : 0));
    }
    /**
     * See https://www.fsdeveloper.com/wiki/index.php/MSFS_Mission_Script_-_Actions
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    executeAction(dataRequestID, actionID, values) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        const paramValues = values.getBuffer();
        const packet = this._beginPacket(0x4e)
            .putInt32(dataRequestID)
            .putString256(actionID)
            .putInt32(paramValues.length)
            .putBytes(paramValues);
        return this._buildAndSend(packet);
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    enumerateInputEvents(dataRequestID) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        const packet = this._beginPacket(0x4f).putInt32(dataRequestID);
        return this._buildAndSend(packet);
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    getInputEvent(dataRequestID, inputEventHashID) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        const packet = this._beginPacket(0x50).putInt32(dataRequestID).putUint64(inputEventHashID);
        return this._buildAndSend(packet);
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    setInputEvent(inputEventHashID, value) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        const packet = this._beginPacket(0x51).putUint64(inputEventHashID);
        if (typeof value === 'string') {
            packet.putInt32(value.length).putString(value);
        }
        else {
            packet.putInt32(8).putFloat64(value);
        }
        return this._buildAndSend(packet);
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    subscribeInputEvent(inputEventHashID) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        return this._buildAndSend(this._beginPacket(0x52).putUint64(inputEventHashID));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    unsubscribeInputEvent(inputEventHashID) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        return this._buildAndSend(this._beginPacket(0x53).putUint64(inputEventHashID));
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    enumerateInputEventParams(inputEventHashID) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        return this._buildAndSend(this._beginPacket(0x54).putUint64(inputEventHashID));
    }
    /**
     *
     * @param dataDefinitionId -
     * @param filterPath -
     * @param filterData - use null to remove a previously applied filter
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    addFacilityDataDefinitionFilter(dataDefinitionId, filterPath, filterData) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        const packet = this._beginPacket(0x55).putInt32(dataDefinitionId).putString256(filterPath);
        if (filterData === null) {
            packet.putInt32(0);
        }
        else {
            const filterDataBuffer = filterData.getBuffer();
            packet.putInt32(filterDataBuffer.length).putBytes(filterDataBuffer);
        }
        return this._buildAndSend(packet);
    }
    /**
     *
     * @returns sendId of packet (can be used to identify packet when exception event occurs)
     */
    clearAllFacilityDataDefinitionFilters(dataDefinitionId) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        return this._buildAndSend(this._beginPacket(0x56).putInt32(dataDefinitionId));
    }
    close() {
        if (this._openTimeout !== null) {
            clearTimeout(this._openTimeout);
            this._openTimeout = null;
        }
        this._clientSocket.close();
    }
    getLastSentPacketID() {
        return this._packetsSent - 1;
    }
    _beginPacket(packetId) {
        return new SimConnectPacketBuilder_1.SimConnectPacketBuilder(packetId, this._ourProtocol, this._packetDataBuffer);
    }
    _buildAndSend(builder) {
        const thisPacketId = this._packetsSent;
        this._clientSocket.write(builder.build(thisPacketId));
        this._packetsSent++;
        return thisPacketId;
    }
    _handleMessage({ packetTypeId, data }) {
        if (!(packetTypeId in SimConnectSocket_1.RecvID)) {
            console.log('Unknown packet type id', packetTypeId, data);
        }
        switch (packetTypeId) {
            case SimConnectSocket_1.RecvID.ID_NULL:
                break;
            case SimConnectSocket_1.RecvID.ID_EXCEPTION:
                this.emit('exception', new recv_1.RecvException(data));
                break;
            case SimConnectSocket_1.RecvID.ID_OPEN:
                if (this._openTimeout !== null) {
                    clearTimeout(this._openTimeout);
                    this._openTimeout = null;
                }
                this.emit('open', new recv_1.RecvOpen(data));
                break;
            case SimConnectSocket_1.RecvID.ID_QUIT:
                this.emit('quit');
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT:
                this.emit('event', new recv_1.RecvEvent(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_OBJECT_ADDREMOVE:
                this.emit('eventAddRemove', new recv_1.RecvEventAddRemove(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_FILENAME:
                this.emit('eventFilename', new recv_1.RecvEventFilename(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_FRAME:
                this.emit('eventFrame', new recv_1.RecvEventFrame(data));
                break;
            case SimConnectSocket_1.RecvID.ID_SIMOBJECT_DATA:
                this.emit('simObjectData', new recv_1.RecvSimObjectData(data));
                break;
            case SimConnectSocket_1.RecvID.ID_SIMOBJECT_DATA_BYTYPE:
                this.emit('simObjectDataByType', new recv_1.RecvSimObjectData(data));
                break;
            case SimConnectSocket_1.RecvID.ID_WEATHER_OBSERVATION:
                this.emit('weatherObservation', new recv_1.RecvWeatherObservation(data));
                break;
            case SimConnectSocket_1.RecvID.ID_CLOUD_STATE:
                this.emit('cloudState', new recv_1.RecvCloudState(data));
                break;
            case SimConnectSocket_1.RecvID.ID_ASSIGNED_OBJECT_ID:
                this.emit('assignedObjectID', new recv_1.RecvAssignedObjectID(data));
                break;
            case SimConnectSocket_1.RecvID.ID_RESERVED_KEY:
                this.emit('reservedKey', new recv_1.RecvReservedKey(data));
                break;
            case SimConnectSocket_1.RecvID.ID_CUSTOM_ACTION:
                this.emit('customAction', new recv_1.RecvCustomAction(data));
                break;
            case SimConnectSocket_1.RecvID.ID_SYSTEM_STATE:
                this.emit('systemState', new recv_1.RecvSystemState(data));
                break;
            case SimConnectSocket_1.RecvID.ID_CLIENT_DATA:
                this.emit('clientData', new recv_1.RecvSimObjectData(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_WEATHER_MODE:
                this.emit('eventWeatherMode', new recv_1.RecvEventWeatherMode(data));
                break;
            case SimConnectSocket_1.RecvID.ID_AIRPORT_LIST:
                this.emit('airportList', new recv_1.RecvAirportList(data));
                break;
            case SimConnectSocket_1.RecvID.ID_VOR_LIST:
                this.emit('vorList', new recv_1.RecvVORList(data));
                break;
            case SimConnectSocket_1.RecvID.ID_NDB_LIST:
                this.emit('ndbList', new recv_1.RecvNDBList(data));
                break;
            case SimConnectSocket_1.RecvID.ID_WAYPOINT_LIST:
                this.emit('waypointList', new recv_1.RecvWaypointList(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_MULTIPLAYER_SERVER_STARTED:
                this.emit('eventMultiplayerServerStarted');
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_MULTIPLAYER_CLIENT_STARTED:
                this.emit('eventMultiplayerClientStarted');
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_MULTIPLAYER_SESSION_ENDED:
                this.emit('eventMultiplayerSessionEnded');
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_RACE_END:
                this.emit('eventRaceEnd', new recv_1.RecvEventRaceEnd(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_RACE_LAP:
                this.emit('eventRaceLap', new recv_1.RecvEventRaceLap(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_EX1:
                this.emit('eventEx1', new recv_1.RecvEventEx1(data));
                break;
            case SimConnectSocket_1.RecvID.ID_FACILITY_DATA:
                this.emit('facilityData', new recv_1.RecvFacilityData(data));
                break;
            case SimConnectSocket_1.RecvID.ID_FACILITY_DATA_END:
                this.emit('facilityDataEnd', new recv_1.RecvFacilityDataEnd(data));
                break;
            case SimConnectSocket_1.RecvID.ID_FACILITY_MINIMAL_LIST:
                this.emit('facilityMinimalList', new recv_1.RecvFacilityMinimalList(data));
                break;
            case SimConnectSocket_1.RecvID.ID_JETWAY_DATA:
                this.emit('jetwayData', new recv_1.RecvJetwayData(data));
                break;
            case SimConnectSocket_1.RecvID.ID_CONTROLLERS_LIST:
                this.emit('controllersList', new recv_1.RecvControllersList(data));
                break;
            case SimConnectSocket_1.RecvID.ID_ACTION_CALLBACK:
                this.emit('actionCallback', new recv_1.RecvActionCallback(data));
                break;
            case SimConnectSocket_1.RecvID.ID_ENUMERATE_INPUT_EVENTS:
                this.emit('inputEventsList', new recv_1.RecvEnumerateInputEvents(data));
                break;
            case SimConnectSocket_1.RecvID.ID_GET_INPUT_EVENT:
                this.emit('getInputEvent', new recv_1.RecvGetInputEvent(data));
                break;
            case SimConnectSocket_1.RecvID.ID_SUBSCRIBE_INPUT_EVENT:
                this.emit('subscribeInputEvent', new recv_1.RecvSubscribeInputEvent(data));
                break;
            case SimConnectSocket_1.RecvID.ID_ENUMERATE_INPUT_EVENT_PARAMS:
                this.emit('enumerateInputEventParams', new recv_1.RecvEnumerateInputEventParams(data));
                break;
        }
    }
    _open() {
        this._openTimeout = setTimeout(() => {
            this.close();
            this.emit('error', Error('Open timeout'));
        }, 5000);
        const version = openPacketData[this._ourProtocol];
        if (!version) {
            throw Error(SimConnectError.InvalidProtocol);
        }
        this._buildAndSend(this._beginPacket(0x01)
            .putString256(this._appName)
            .putInt32(0)
            .putByte(0x00)
            .putString(version.alias, 3)
            .putInt32(version.major)
            .putInt32(version.minor)
            .putInt32(version.buildMajor)
            .putInt32(version.buildMinor));
    }
}
exports.SimConnectConnection = SimConnectConnection;
module.exports = { SimConnectConnection };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2ltQ29ubmVjdENvbm5lY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvU2ltQ29ubmVjdENvbm5lY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsbUNBQXNDO0FBQ3RDLG1FQUFnRTtBQUdoRSwyQ0FBd0M7QUFDeEMsaUVBQXVGO0FBR3ZGLCtDQUE0QztBQUc1QywrQ0FBNEM7QUFDNUMseURBQWlGO0FBR2pGLHFEQUFrRDtBQUVsRCwrREFBNEQ7QUFDNUQsdUVBQW9FO0FBQ3BFLGlDQWdDZ0I7QUFxQmhCLE1BQU0sY0FBYyxHQUEwQztJQUMxRCxDQUFDLG1CQUFRLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDaEIsS0FBSyxFQUFFLENBQUM7UUFDUixLQUFLLEVBQUUsQ0FBQztRQUNSLFVBQVUsRUFBRSxLQUFLO1FBQ2pCLFVBQVUsRUFBRSxDQUFDO1FBQ2IsS0FBSyxFQUFFLEtBQUs7S0FDZjtJQUNELENBQUMsbUJBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRTtRQUNoQixLQUFLLEVBQUUsRUFBRTtRQUNULEtBQUssRUFBRSxDQUFDO1FBQ1IsVUFBVSxFQUFFLEtBQUs7UUFDakIsVUFBVSxFQUFFLENBQUM7UUFDYixLQUFLLEVBQUUsS0FBSztLQUNmO0lBQ0QsQ0FBQyxtQkFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ2hCLEtBQUssRUFBRSxFQUFFO1FBQ1QsS0FBSyxFQUFFLENBQUM7UUFDUixVQUFVLEVBQUUsS0FBSztRQUNqQixVQUFVLEVBQUUsQ0FBQztRQUNiLEtBQUssRUFBRSxLQUFLO0tBQ2Y7SUFDRCxDQUFDLG1CQUFRLENBQUMsU0FBUyxDQUFDLEVBQUU7UUFDbEIsS0FBSyxFQUFFLEVBQUU7UUFDVCxLQUFLLEVBQUUsQ0FBQztRQUNSLFVBQVUsRUFBRSxLQUFLO1FBQ2pCLFVBQVUsRUFBRSxDQUFDO1FBQ2IsS0FBSyxFQUFFLElBQUksRUFBRSxvQkFBb0I7S0FDcEM7Q0FDSixDQUFDO0FBbURG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QVEsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQ3BDLENBQUM7SUFDTixDQUFDO0NBQ0o7QUFFUSxvREFBb0I7QUFDN0IsTUFBTSxDQUFDLE9BQU8sR0FBRyxFQUFFLG9CQUFvQixFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xyXG5pbXBvcnQgeyBTaW1Db25uZWN0RGF0YVR5cGUgfSBmcm9tICcuL2VudW1zL1NpbUNvbm5lY3REYXRhVHlwZSc7XHJcbmltcG9ydCB7IFNpbUNvbm5lY3RQZXJpb2QgfSBmcm9tICcuL2VudW1zL1NpbUNvbm5lY3RQZXJpb2QnO1xyXG5pbXBvcnQgeyBTaW1PYmplY3RUeXBlIH0gZnJvbSAnLi9lbnVtcy9TaW1PYmplY3RUeXBlJztcclxuaW1wb3J0IHsgUmF3QnVmZmVyIH0gZnJvbSAnLi9SYXdCdWZmZXInO1xyXG5pbXBvcnQgeyBhdXRvZGV0ZWN0U2VydmVyQWRkcmVzcywgQ29ubmVjdGlvblBhcmFtZXRlcnMgfSBmcm9tICcuL2Nvbm5lY3Rpb25QYXJhbWV0ZXJzJztcclxuaW1wb3J0IHsgTm90aWZpY2F0aW9uUHJpb3JpdHkgfSBmcm9tICcuL2VudW1zL05vdGlmaWNhdGlvblByaW9yaXR5JztcclxuaW1wb3J0IHsgSWNhb1R5cGUsIEluaXRQb3NpdGlvbiwgU2ltQ29ubmVjdERhdGEgfSBmcm9tICcuL2R0byc7XHJcbmltcG9ydCB7IFRleHRUeXBlIH0gZnJvbSAnLi9lbnVtcy9UZXh0VHlwZSc7XHJcbmltcG9ydCB7IEZhY2lsaXR5TGlzdFR5cGUgfSBmcm9tICcuL2VudW1zL0ZhY2lsaXR5TGlzdFR5cGUnO1xyXG5pbXBvcnQgeyBDbGllbnREYXRhUGVyaW9kIH0gZnJvbSAnLi9lbnVtcy9DbGllbnREYXRhUGVyaW9kJztcclxuaW1wb3J0IHsgUHJvdG9jb2wgfSBmcm9tICcuL2VudW1zL1Byb3RvY29sJztcclxuaW1wb3J0IHsgUmVjdklELCBTaW1Db25uZWN0TWVzc2FnZSwgU2ltQ29ubmVjdFNvY2tldCB9IGZyb20gJy4vU2ltQ29ubmVjdFNvY2tldCc7XHJcbmltcG9ydCB7IERhdGFSZXF1ZXN0RmxhZyB9IGZyb20gJy4vZmxhZ3MvRGF0YVJlcXVlc3RGbGFnJztcclxuaW1wb3J0IHsgRXZlbnRGbGFnIH0gZnJvbSAnLi9mbGFncy9FdmVudEZsYWcnO1xyXG5pbXBvcnQgeyBEYXRhU2V0RmxhZyB9IGZyb20gJy4vZmxhZ3MvRGF0YVNldEZsYWcnO1xyXG5pbXBvcnQgeyBDbGllbnREYXRhUmVxdWVzdEZsYWcgfSBmcm9tICcuL2ZsYWdzL0NsaWVudERhdGFSZXF1ZXN0RmxhZyc7XHJcbmltcG9ydCB7IFNpbUNvbm5lY3RDb25zdGFudHMgfSBmcm9tICcuL1NpbUNvbm5lY3RDb25zdGFudHMnO1xyXG5pbXBvcnQgeyBTaW1Db25uZWN0UGFja2V0QnVpbGRlciB9IGZyb20gJy4vU2ltQ29ubmVjdFBhY2tldEJ1aWxkZXInO1xyXG5pbXBvcnQge1xyXG4gICAgUmVjdkFjdGlvbkNhbGxiYWNrLFxyXG4gICAgUmVjdkFpcnBvcnRMaXN0LFxyXG4gICAgUmVjdkFzc2lnbmVkT2JqZWN0SUQsXHJcbiAgICBSZWN2Q2xvdWRTdGF0ZSxcclxuICAgIFJlY3ZDb250cm9sbGVyc0xpc3QsXHJcbiAgICBSZWN2Q3VzdG9tQWN0aW9uLFxyXG4gICAgUmVjdkVudW1lcmF0ZUlucHV0RXZlbnRQYXJhbXMsXHJcbiAgICBSZWN2RW51bWVyYXRlSW5wdXRFdmVudHMsXHJcbiAgICBSZWN2RXZlbnQsXHJcbiAgICBSZWN2RXZlbnRBZGRSZW1vdmUsXHJcbiAgICBSZWN2RXZlbnRFeDEsXHJcbiAgICBSZWN2RXZlbnRGaWxlbmFtZSxcclxuICAgIFJlY3ZFdmVudEZyYW1lLFxyXG4gICAgUmVjdkV2ZW50UmFjZUVuZCxcclxuICAgIFJlY3ZFdmVudFJhY2VMYXAsXHJcbiAgICBSZWN2RXZlbnRXZWF0aGVyTW9kZSxcclxuICAgIFJlY3ZFeGNlcHRpb24sXHJcbiAgICBSZWN2RmFjaWxpdHlEYXRhLFxyXG4gICAgUmVjdkZhY2lsaXR5RGF0YUVuZCxcclxuICAgIFJlY3ZGYWNpbGl0eU1pbmltYWxMaXN0LFxyXG4gICAgUmVjdkdldElucHV0RXZlbnQsXHJcbiAgICBSZWN2SmV0d2F5RGF0YSxcclxuICAgIFJlY3ZOREJMaXN0LFxyXG4gICAgUmVjdk9wZW4sXHJcbiAgICBSZWN2UmVzZXJ2ZWRLZXksXHJcbiAgICBSZWN2U2ltT2JqZWN0RGF0YSxcclxuICAgIFJlY3ZTdWJzY3JpYmVJbnB1dEV2ZW50LFxyXG4gICAgUmVjdlN5c3RlbVN0YXRlLFxyXG4gICAgUmVjdlZPUkxpc3QsXHJcbiAgICBSZWN2V2F5cG9pbnRMaXN0LFxyXG4gICAgUmVjdldlYXRoZXJPYnNlcnZhdGlvbixcclxufSBmcm9tICcuL3JlY3YnO1xyXG5pbXBvcnQge1xyXG4gICAgQ2xpZW50RGF0YURlZmluaXRpb25JZCxcclxuICAgIENsaWVudERhdGFJZCxcclxuICAgIENsaWVudEV2ZW50SWQsXHJcbiAgICBEYXRhRGVmaW5pdGlvbklkLFxyXG4gICAgRGF0YVJlcXVlc3RJZCxcclxuICAgIElucHV0R3JvdXBJZCxcclxuICAgIE5vdGlmaWNhdGlvbkdyb3VwSWQsXHJcbiAgICBPYmplY3RJZCxcclxufSBmcm9tICcuL1R5cGVzJztcclxuaW1wb3J0IFRpbWVvdXQgPSBOb2RlSlMuVGltZW91dDtcclxuXHJcbnR5cGUgT3BlblBhY2tldERhdGEgPSB7XHJcbiAgICBtYWpvcjogbnVtYmVyO1xyXG4gICAgbWlub3I6IG51bWJlcjtcclxuICAgIGJ1aWxkTWFqb3I6IG51bWJlcjtcclxuICAgIGJ1aWxkTWlub3I6IG51bWJlcjtcclxuICAgIGFsaWFzOiBzdHJpbmc7XHJcbn07XHJcblxyXG5jb25zdCBvcGVuUGFja2V0RGF0YTogeyBba2V5IGluIFByb3RvY29sXTogT3BlblBhY2tldERhdGEgfSA9IHtcclxuICAgIFtQcm90b2NvbC5GU1hfUlRNXToge1xyXG4gICAgICAgIG1ham9yOiAwLFxyXG4gICAgICAgIG1pbm9yOiAwLFxyXG4gICAgICAgIGJ1aWxkTWFqb3I6IDYwOTA1LFxyXG4gICAgICAgIGJ1aWxkTWlub3I6IDAsXHJcbiAgICAgICAgYWxpYXM6ICdYU0YnLFxyXG4gICAgfSxcclxuICAgIFtQcm90b2NvbC5GU1hfU1AxXToge1xyXG4gICAgICAgIG1ham9yOiAxMCxcclxuICAgICAgICBtaW5vcjogMCxcclxuICAgICAgICBidWlsZE1ham9yOiA2MTM1NSxcclxuICAgICAgICBidWlsZE1pbm9yOiAwLFxyXG4gICAgICAgIGFsaWFzOiAnWFNGJyxcclxuICAgIH0sXHJcbiAgICBbUHJvdG9jb2wuRlNYX1NQMl06IHtcclxuICAgICAgICBtYWpvcjogMTAsXHJcbiAgICAgICAgbWlub3I6IDAsXHJcbiAgICAgICAgYnVpbGRNYWpvcjogNjEyNTksXHJcbiAgICAgICAgYnVpbGRNaW5vcjogMCxcclxuICAgICAgICBhbGlhczogJ1hTRicsXHJcbiAgICB9LFxyXG4gICAgW1Byb3RvY29sLktpdHR5SGF3a106IHtcclxuICAgICAgICBtYWpvcjogMTEsXHJcbiAgICAgICAgbWlub3I6IDAsXHJcbiAgICAgICAgYnVpbGRNYWpvcjogNjI2NTEsXHJcbiAgICAgICAgYnVpbGRNaW5vcjogMyxcclxuICAgICAgICBhbGlhczogJ0hLJywgLy8gXCJIYXdrXCIgKyBcIktpdHR5XCI/XHJcbiAgICB9LFxyXG59O1xyXG5cclxuaW50ZXJmYWNlIFNpbUNvbm5lY3RSZWN2RXZlbnRzIHtcclxuICAgIG9wZW46IChyZWN2T3BlbjogUmVjdk9wZW4pID0+IHZvaWQ7XHJcbiAgICBjbG9zZTogKCkgPT4gdm9pZDtcclxuICAgIGVycm9yOiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkO1xyXG4gICAgcXVpdDogKCkgPT4gdm9pZDtcclxuICAgIGV4Y2VwdGlvbjogKHJlY3ZFeGNlcHRpb246IFJlY3ZFeGNlcHRpb24pID0+IHZvaWQ7XHJcbiAgICBldmVudDogKHJlY3ZFdmVudDogUmVjdkV2ZW50KSA9PiB2b2lkO1xyXG4gICAgZXZlbnRFeDE6IChyZWN2RXZlbnQ6IFJlY3ZFdmVudEV4MSkgPT4gdm9pZDtcclxuICAgIGFpcnBvcnRMaXN0OiAocmVjdkFpcnBvcnRMaXN0OiBSZWN2QWlycG9ydExpc3QpID0+IHZvaWQ7XHJcbiAgICB2b3JMaXN0OiAocmVjdlZPUkxpc3Q6IFJlY3ZWT1JMaXN0KSA9PiB2b2lkO1xyXG4gICAgbmRiTGlzdDogKHJlY3ZOREJMaXN0OiBSZWN2TkRCTGlzdCkgPT4gdm9pZDtcclxuICAgIHdheXBvaW50TGlzdDogKHJlY3ZXYXlwb2ludExpc3Q6IFJlY3ZXYXlwb2ludExpc3QpID0+IHZvaWQ7XHJcbiAgICByZXNlcnZlZEtleTogKHJlY3ZSZXNlcnZlZEtleTogUmVjdlJlc2VydmVkS2V5KSA9PiB2b2lkO1xyXG4gICAgY3VzdG9tQWN0aW9uOiAocmVjdkN1c3RvbUFjdGlvbjogUmVjdkN1c3RvbUFjdGlvbikgPT4gdm9pZDtcclxuICAgIGNsaWVudERhdGE6IChyZWN2U2ltT2JqZWN0RGF0YTogUmVjdlNpbU9iamVjdERhdGEpID0+IHZvaWQ7XHJcbiAgICBldmVudFdlYXRoZXJNb2RlOiAocmVjdldlYXRoZXJNb2RlOiBSZWN2RXZlbnRXZWF0aGVyTW9kZSkgPT4gdm9pZDtcclxuICAgIGFzc2lnbmVkT2JqZWN0SUQ6IChyZWN2QXNzaWduZWRPYmplY3RJRDogUmVjdkFzc2lnbmVkT2JqZWN0SUQpID0+IHZvaWQ7XHJcbiAgICBldmVudEZpbGVuYW1lOiAocmVjdkV2ZW50RmlsZW5hbWU6IFJlY3ZFdmVudEZpbGVuYW1lKSA9PiB2b2lkO1xyXG4gICAgZXZlbnRGcmFtZTogKHJlY3ZFdmVudEZyYW1lOiBSZWN2RXZlbnRGcmFtZSkgPT4gdm9pZDtcclxuICAgIGV2ZW50QWRkUmVtb3ZlOiAocmVjdkV2ZW50OiBSZWN2RXZlbnRBZGRSZW1vdmUpID0+IHZvaWQ7XHJcbiAgICBzaW1PYmplY3REYXRhOiAocmVjdlNpbU9iamVjdERhdGE6IFJlY3ZTaW1PYmplY3REYXRhKSA9PiB2b2lkO1xyXG4gICAgc2ltT2JqZWN0RGF0YUJ5VHlwZTogKHJlY3ZTaW1PYmplY3REYXRhOiBSZWN2U2ltT2JqZWN0RGF0YSkgPT4gdm9pZDtcclxuICAgIHN5c3RlbVN0YXRlOiAocmVjdlN5c3RlbVN0YXRlOiBSZWN2U3lzdGVtU3RhdGUpID0+IHZvaWQ7XHJcbiAgICB3ZWF0aGVyT2JzZXJ2YXRpb246IChyZWN2V2VhdGhlck9ic2VydmF0aW9uOiBSZWN2V2VhdGhlck9ic2VydmF0aW9uKSA9PiB2b2lkO1xyXG4gICAgY2xvdWRTdGF0ZTogKHJlY3ZDbG91ZFN0YXRlOiBSZWN2Q2xvdWRTdGF0ZSkgPT4gdm9pZDtcclxuICAgIGV2ZW50TXVsdGlwbGF5ZXJTZXJ2ZXJTdGFydGVkOiAoKSA9PiB2b2lkO1xyXG4gICAgZXZlbnRNdWx0aXBsYXllckNsaWVudFN0YXJ0ZWQ6ICgpID0+IHZvaWQ7XHJcbiAgICBldmVudE11bHRpcGxheWVyU2Vzc2lvbkVuZGVkOiAoKSA9PiB2b2lkO1xyXG4gICAgZXZlbnRSYWNlRW5kOiAocmVjdkV2ZW50UmFjZUVuZDogUmVjdkV2ZW50UmFjZUVuZCkgPT4gdm9pZDtcclxuICAgIGV2ZW50UmFjZUxhcDogKHJlY3ZFdmVudFJhY2VMYXA6IFJlY3ZFdmVudFJhY2VMYXApID0+IHZvaWQ7XHJcbiAgICBmYWNpbGl0eURhdGE6IChyZWN2RmFjaWxpdHlEYXRhOiBSZWN2RmFjaWxpdHlEYXRhKSA9PiB2b2lkO1xyXG4gICAgZmFjaWxpdHlEYXRhRW5kOiAocmVjdkZhY2lsaXR5RGF0YUVuZDogUmVjdkZhY2lsaXR5RGF0YUVuZCkgPT4gdm9pZDtcclxuICAgIGZhY2lsaXR5TWluaW1hbExpc3Q6IChyZWN2RmFjaWxpdHlNaW5pbWFsTGlzdDogUmVjdkZhY2lsaXR5TWluaW1hbExpc3QpID0+IHZvaWQ7XHJcbiAgICBqZXR3YXlEYXRhOiAocmVjdkpldHdheURhdGE6IFJlY3ZKZXR3YXlEYXRhKSA9PiB2b2lkO1xyXG4gICAgYWN0aW9uQ2FsbGJhY2s6IChyZWN2QWN0aW9uQ2FsbGJhY2s6IFJlY3ZBY3Rpb25DYWxsYmFjaykgPT4gdm9pZDtcclxuICAgIGNvbnRyb2xsZXJzTGlzdDogKHJlY3ZDb250cm9sbGVyc0xpc3Q6IFJlY3ZDb250cm9sbGVyc0xpc3QpID0+IHZvaWQ7XHJcbiAgICBpbnB1dEV2ZW50c0xpc3Q6IChyZWN2RW51bWVyYXRlSW5wdXRFdmVudHM6IFJlY3ZFbnVtZXJhdGVJbnB1dEV2ZW50cykgPT4gdm9pZDtcclxuICAgIGdldElucHV0RXZlbnQ6IChyZWN2R2V0SW5wdXRFdmVudDogUmVjdkdldElucHV0RXZlbnQpID0+IHZvaWQ7XHJcbiAgICBzdWJzY3JpYmVJbnB1dEV2ZW50OiAocmVjdlN1YnNjcmliZUlucHV0RXZlbnQ6IFJlY3ZTdWJzY3JpYmVJbnB1dEV2ZW50KSA9PiB2b2lkO1xyXG4gICAgZW51bWVyYXRlSW5wdXRFdmVudFBhcmFtczogKFxyXG4gICAgICAgIHJlY3ZFbnVtZXJhdGVJbnB1dEV2ZW50UGFyYW1zOiBSZWN2RW51bWVyYXRlSW5wdXRFdmVudFBhcmFtc1xyXG4gICAgKSA9PiB2b2lkO1xyXG59XHJcblxyXG50eXBlIENvbm5lY3Rpb25PcHRpb25zID1cclxuICAgIHwgeyBob3N0OiBzdHJpbmc7IHBvcnQ6IG51bWJlciB9XHJcbiAgICB8IHsgc2ltQ29ubmVjdENmZ0luZGV4OiBudW1iZXIgfVxyXG4gICAgfCB7IHJlbW90ZTogeyBob3N0OiBzdHJpbmc7IHBvcnQ6IG51bWJlciB9IH07XHJcblxyXG5lbnVtIFNpbUNvbm5lY3RFcnJvciB7XHJcbiAgICBVbmtub3duSG9zdCA9ICdVbmtub3duIGhvc3QnLFxyXG4gICAgR3VpZEludmFsaWRTaXplID0gJ0dVSUQgaXMgbm90IDE2IGJ5dGVzIGxvbmcnLFxyXG4gICAgVW5pbXBsZW1lbnRlZCA9ICdOb3QgeWV0IGltcGxlbWVudGVkJyxcclxuICAgIFZlcnNpb25NaXNtYXRjaCA9ICdJbnZhbGlkIHZlcnNpb24yJyxcclxuICAgIFBhY2tldFRvb0xhcmdlID0gJ1BhY2tldCB0b28gbGFyZ2UnLFxyXG4gICAgSW52YWxpZFJlYWQgPSAnSW52YWxpZCByZWFkJyxcclxuICAgIEludmFsaWRQcm90b2NvbCA9ICdJbnZhbGlkIHByb3RvY29sIHZlcnNpb24nLFxyXG4gICAgQmFkVmVyc2lvbiA9ICdVbnN1cHBvcnRlZCBwcm90b2NvbCB2ZXJzaW9uJyxcclxufVxyXG5cclxuY2xhc3MgU2ltQ29ubmVjdENvbm5lY3Rpb24gZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYXBwTmFtZTogc3RyaW5nO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX291clByb3RvY29sOiBQcm90b2NvbDtcclxuXHJcbiAgICBfY2xpZW50U29ja2V0OiBTaW1Db25uZWN0U29ja2V0O1xyXG5cclxuICAgIHByaXZhdGUgX29wZW5UaW1lb3V0OiBudWxsIHwgVGltZW91dDtcclxuXHJcbiAgICBwcml2YXRlIF9wYWNrZXRzU2VudDogbnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3BhY2tldERhdGFCdWZmZXIgPSBuZXcgUmF3QnVmZmVyKDI1Nik7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwTmFtZTogc3RyaW5nLCBwcm90b2NvbFZlcnNpb246IFByb3RvY29sKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLl9hcHBOYW1lID0gYXBwTmFtZTtcclxuICAgICAgICB0aGlzLl9wYWNrZXRzU2VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5fb3VyUHJvdG9jb2wgPSBwcm90b2NvbFZlcnNpb247XHJcblxyXG4gICAgICAgIHRoaXMuX29wZW5UaW1lb3V0ID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5fY2xpZW50U29ja2V0ID0gbmV3IFNpbUNvbm5lY3RTb2NrZXQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY2xpZW50U29ja2V0Lm9uKCdjb25uZWN0JywgdGhpcy5fb3Blbi5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLl9jbGllbnRTb2NrZXQub24oJ2RhdGEnLCB0aGlzLl9oYW5kbGVNZXNzYWdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMuX2NsaWVudFNvY2tldC5vbignY2xvc2UnLCAoKSA9PiB0aGlzLmVtaXQoJ2Nsb3NlJykpO1xyXG4gICAgICAgIHRoaXMuX2NsaWVudFNvY2tldC5vbignZXJyb3InLCAoY29ubmVjdEVycm9yOiBFcnJvcikgPT4gdGhpcy5lbWl0KCdlcnJvcicsIGNvbm5lY3RFcnJvcikpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbjxVIGV4dGVuZHMga2V5b2YgU2ltQ29ubmVjdFJlY3ZFdmVudHM+KFxyXG4gICAgICAgIGV2ZW50OiBVLFxyXG4gICAgICAgIGxpc3RlbmVyOiBTaW1Db25uZWN0UmVjdkV2ZW50c1tVXVxyXG4gICAgKTogdGhpcyB7XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLm9uKGV2ZW50LCBsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uY2U8VSBleHRlbmRzIGtleW9mIFNpbUNvbm5lY3RSZWN2RXZlbnRzPihcclxuICAgICAgICBldmVudDogVSxcclxuICAgICAgICBsaXN0ZW5lcjogU2ltQ29ubmVjdFJlY3ZFdmVudHNbVV1cclxuICAgICk6IHRoaXMge1xyXG4gICAgICAgIHJldHVybiBzdXBlci5vbmNlKGV2ZW50LCBsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUxpc3RlbmVyPFUgZXh0ZW5kcyBrZXlvZiBTaW1Db25uZWN0UmVjdkV2ZW50cz4oXHJcbiAgICAgICAgZXZlbnQ6IFUsXHJcbiAgICAgICAgbGlzdGVuZXI6IFNpbUNvbm5lY3RSZWN2RXZlbnRzW1VdXHJcbiAgICApOiB0aGlzIHtcclxuICAgICAgICByZXR1cm4gc3VwZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQWxsTGlzdGVuZXJzPFUgZXh0ZW5kcyBrZXlvZiBTaW1Db25uZWN0UmVjdkV2ZW50cz4oZXZlbnQ6IFUpOiB0aGlzIHtcclxuICAgICAgICByZXR1cm4gc3VwZXIucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb2ZmID0gdGhpcy5yZW1vdmVMaXN0ZW5lcjtcclxuXHJcbiAgICBwdWJsaWMgYWRkTGlzdGVuZXIgPSB0aGlzLm9uO1xyXG5cclxuICAgIHB1YmxpYyBlbWl0PFUgZXh0ZW5kcyBrZXlvZiBTaW1Db25uZWN0UmVjdkV2ZW50cz4oXHJcbiAgICAgICAgZXZlbnQ6IFUsXHJcbiAgICAgICAgLi4uYXJnczogUGFyYW1ldGVyczxTaW1Db25uZWN0UmVjdkV2ZW50c1tVXT5cclxuICAgICk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBzdXBlci5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25uZWN0KG9wdGlvbnM/OiBDb25uZWN0aW9uT3B0aW9ucyk6IHZvaWQge1xyXG4gICAgICAgIGlmIChvcHRpb25zICYmICdob3N0JyBpbiBvcHRpb25zICYmICdwb3J0JyBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsaWVudFNvY2tldC5jb25uZWN0KHsgdHlwZTogJ2lwdjQnLCAuLi5vcHRpb25zIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucyAmJiAncmVtb3RlJyBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIC8vIEZvciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eVxyXG4gICAgICAgICAgICB0aGlzLl9jbGllbnRTb2NrZXQuY29ubmVjdCh7IHR5cGU6ICdpcHY0JywgLi4ub3B0aW9ucy5yZW1vdGUgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXV0b2RldGVjdFNlcnZlckFkZHJlc3Mob3B0aW9ucz8uc2ltQ29ubmVjdENmZ0luZGV4KS50aGVuKFxyXG4gICAgICAgICAgICAgICAgKGFkZHJlc3M6IENvbm5lY3Rpb25QYXJhbWV0ZXJzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xpZW50U29ja2V0LmNvbm5lY3QoYWRkcmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gICAgcmVxdWVzdFJlc3BvbnNlVGltZXMobkNvdW50OiBudW1iZXIpIHtcclxuICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgc2ltY29ubmVjdCBmdW5jdGlvblxyXG4gICAgICAgIC8vIHRoaXMgb25lIG5lZWRzIHNwZWNpYWwgY2FyZTogaXQgc2VuZCBhIHBhY2tldCAoaWQgMHgwMywgb25lIHBhcmFtIDogbkNvdW50KVxyXG4gICAgICAgIC8vIGFuZCByZWNlaXZlIDggZmxvYXQgZGF0YSAod2l0aCByZXNwb25zZSBpZCAweDAwMDEwMDAxKSAuIFNvbWUgY2FsY3VsYXRpb25zXHJcbiAgICAgICAgLy8gaGFzIHRvIGJlIGRvbmVcclxuICAgICAgICB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuVW5pbXBsZW1lbnRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgbWFwQ2xpZW50RXZlbnRUb1NpbUV2ZW50KGNsaWVudEV2ZW50SWQ6IENsaWVudEV2ZW50SWQsIGV2ZW50TmFtZT86IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgwNClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihjbGllbnRFdmVudElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dFN0cmluZzI1NihldmVudE5hbWUgfHwgJycpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICB0cmFuc21pdENsaWVudEV2ZW50KFxyXG4gICAgICAgIG9iamVjdElkOiBPYmplY3RJZCxcclxuICAgICAgICBjbGllbnRFdmVudElkOiBDbGllbnRFdmVudElkLFxyXG4gICAgICAgIGRhdGE6IG51bWJlcixcclxuICAgICAgICBub3RpZmljYXRpb25Hcm91cElkOiBOb3RpZmljYXRpb25Hcm91cElkLFxyXG4gICAgICAgIGZsYWdzOiBFdmVudEZsYWdcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgwNSlcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihvYmplY3RJZClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihjbGllbnRFdmVudElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGRhdGEpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIobm90aWZpY2F0aW9uR3JvdXBJZClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihmbGFncylcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHNldFN5c3RlbUV2ZW50U3RhdGUoY2xpZW50RXZlbnRJZDogQ2xpZW50RXZlbnRJZCwgc3RhdGU6IGJvb2xlYW4pOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MDYpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoY2xpZW50RXZlbnRJZClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihzdGF0ZSA/IDEgOiAwKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgYWRkQ2xpZW50RXZlbnRUb05vdGlmaWNhdGlvbkdyb3VwKFxyXG4gICAgICAgIG5vdGlmaWNhdGlvbkdyb3VwSWQ6IE5vdGlmaWNhdGlvbkdyb3VwSWQsXHJcbiAgICAgICAgY2xpZW50RXZlbnRJZDogQ2xpZW50RXZlbnRJZCxcclxuICAgICAgICBtYXNrYWJsZTogYm9vbGVhblxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDA3KVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKG5vdGlmaWNhdGlvbkdyb3VwSWQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoY2xpZW50RXZlbnRJZClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihtYXNrYWJsZSA/IDEgOiAwKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlQ2xpZW50RXZlbnQoXHJcbiAgICAgICAgbm90aWZpY2F0aW9uR3JvdXBJZDogTm90aWZpY2F0aW9uR3JvdXBJZCxcclxuICAgICAgICBjbGllbnRFdmVudElkOiBDbGllbnRFdmVudElkXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MDgpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIobm90aWZpY2F0aW9uR3JvdXBJZClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihjbGllbnRFdmVudElkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgc2V0Tm90aWZpY2F0aW9uR3JvdXBQcmlvcml0eShcclxuICAgICAgICBub3RpZmljYXRpb25Hcm91cElkOiBOb3RpZmljYXRpb25Hcm91cElkLFxyXG4gICAgICAgIHByaW9yaXR5OiBOb3RpZmljYXRpb25Qcmlvcml0eVxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDA5KSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKG5vdGlmaWNhdGlvbkdyb3VwSWQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIocHJpb3JpdHkpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBjbGVhck5vdGlmaWNhdGlvbkdyb3VwKG5vdGlmaWNhdGlvbkdyb3VwSWQ6IE5vdGlmaWNhdGlvbkdyb3VwSWQpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MGEpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIobm90aWZpY2F0aW9uR3JvdXBJZClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHJlcXVlc3ROb3RpZmljYXRpb25Hcm91cChcclxuICAgICAgICBub3RpZmljYXRpb25Hcm91cElkOiBOb3RpZmljYXRpb25Hcm91cElkLFxyXG4gICAgICAgIHJlc2VydmVkOiBudW1iZXIsXHJcbiAgICAgICAgZmxhZ3M6IG51bWJlclxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDBiKSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKG5vdGlmaWNhdGlvbkdyb3VwSWQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIocmVzZXJ2ZWQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoZmxhZ3MpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBhZGRUb0RhdGFEZWZpbml0aW9uKFxyXG4gICAgICAgIGRhdGFEZWZpbml0aW9uSWQ6IERhdGFEZWZpbml0aW9uSWQsXHJcbiAgICAgICAgZGF0dW1OYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgdW5pdHNOYW1lOiBzdHJpbmcgfCBudWxsLFxyXG4gICAgICAgIGRhdGFUeXBlPzogU2ltQ29ubmVjdERhdGFUeXBlLFxyXG4gICAgICAgIGVwc2lsb24/OiBudW1iZXIsXHJcbiAgICAgICAgZGF0dW1JZD86IG51bWJlclxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDBjKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGRhdGFEZWZpbml0aW9uSWQpXHJcbiAgICAgICAgICAgICAgICAucHV0U3RyaW5nMjU2KGRhdHVtTmFtZSlcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcyNTYodW5pdHNOYW1lKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGRhdGFUeXBlID09PSB1bmRlZmluZWQgPyBTaW1Db25uZWN0RGF0YVR5cGUuRkxPQVQ2NCA6IGRhdGFUeXBlKVxyXG4gICAgICAgICAgICAgICAgLnB1dEZsb2F0MzIoZXBzaWxvbiB8fCAwKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGRhdHVtSWQgPT09IHVuZGVmaW5lZCA/IFNpbUNvbm5lY3RDb25zdGFudHMuVU5VU0VEIDogZGF0dW1JZClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIGNsZWFyRGF0YURlZmluaXRpb24oZGF0YURlZmluaXRpb25JZDogRGF0YURlZmluaXRpb25JZCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgwZCkgLy9cclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhRGVmaW5pdGlvbklkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqXHJcbiAgICAgKiBAcmVtYXJrc1xyXG4gICAgICogTGlzdGVuIGZvciB7QGxpbmsgU2ltQ29ubmVjdFJlY3ZFdmVudHMuc2ltT2JqZWN0RGF0YX0gdG8gZ2V0IHRoZSBkYXRhLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogY29uc3QgTElWRV9EQVRBX1JFUV9JRCA9IDEyMzQ7XHJcbiAgICAgKlxyXG4gICAgICogaGFuZGxlLmFkZFRvRGF0YURlZmluaXRpb24oXHJcbiAgICAgKiAgIExJVkVfREFUQV9SRVFfSUQsXHJcbiAgICAgKiAgICdTVFJVQ1QgTEFUTE9OQUxUJyxcclxuICAgICAqICAgbnVsbCxcclxuICAgICAqICAgU2ltQ29ubmVjdERhdGFUeXBlLkxBVExPTkFMVFxyXG4gICAgICogKTtcclxuICAgICAqXHJcbiAgICAgKiBoYW5kbGUub24oJ3NpbU9iamVjdERhdGEnLCByZWN2U2ltT2JqZWN0RGF0YSA9PiB7XHJcbiAgICAgKiAgIGlmIChyZWN2U2ltT2JqZWN0RGF0YS5yZXF1ZXN0SUQgPT09IExJVkVfREFUQV9SRVFfSUQpIHtcclxuICAgICAqICAgICBjb25zb2xlLmxvZyhyZWFkTGF0TG9uQWx0KHJlY3ZTaW1PYmplY3REYXRhLmRhdGEpKTtcclxuICAgICAqICAgfVxyXG4gICAgICogfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgcmVxdWVzdERhdGFPblNpbU9iamVjdChcclxuICAgICAgICBkYXRhUmVxdWVzdElkOiBEYXRhUmVxdWVzdElkLFxyXG4gICAgICAgIGRhdGFEZWZpbml0aW9uSWQ6IERhdGFEZWZpbml0aW9uSWQsXHJcbiAgICAgICAgb2JqZWN0SWQ6IE9iamVjdElkLFxyXG4gICAgICAgIHBlcmlvZDogU2ltQ29ubmVjdFBlcmlvZCxcclxuICAgICAgICBmbGFncz86IERhdGFSZXF1ZXN0RmxhZyxcclxuICAgICAgICBvcmlnaW4/OiBudW1iZXIsXHJcbiAgICAgICAgaW50ZXJ2YWw/OiBudW1iZXIsXHJcbiAgICAgICAgbGltaXQ/OiBudW1iZXJcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgwZSlcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhUmVxdWVzdElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGRhdGFEZWZpbml0aW9uSWQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIob2JqZWN0SWQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIocGVyaW9kKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGZsYWdzIHx8IDApXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIob3JpZ2luIHx8IDApXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoaW50ZXJ2YWwgfHwgMClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihsaW1pdCB8fCAwKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqXHJcbiAgICAgKiBAcmVtYXJrc1xyXG4gICAgICogTGlzdGVuIGZvciB7QGxpbmsgU2ltQ29ubmVjdFJlY3ZFdmVudHMuc2ltT2JqZWN0RGF0YUJ5VHlwZX0gdG8gZ2V0IHRoZSBkYXRhLlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgcmVxdWVzdERhdGFPblNpbU9iamVjdFR5cGUoXHJcbiAgICAgICAgZGF0YVJlcXVlc3RJZDogRGF0YVJlcXVlc3RJZCxcclxuICAgICAgICBkYXRhRGVmaW5pdGlvbklkOiBEYXRhRGVmaW5pdGlvbklkLFxyXG4gICAgICAgIHJhZGl1c01ldGVyczogbnVtYmVyLFxyXG4gICAgICAgIHR5cGU6IFNpbU9iamVjdFR5cGVcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgwZilcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhUmVxdWVzdElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGRhdGFEZWZpbml0aW9uSWQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIocmFkaXVzTWV0ZXJzKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHR5cGUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBzZXREYXRhT25TaW1PYmplY3QoXHJcbiAgICAgICAgZGF0YURlZmluaXRpb25JZDogRGF0YURlZmluaXRpb25JZCxcclxuICAgICAgICBvYmplY3RJZDogT2JqZWN0SWQsXHJcbiAgICAgICAgZGF0YTogeyBidWZmZXI6IFJhd0J1ZmZlcjsgYXJyYXlDb3VudDogbnVtYmVyOyB0YWdnZWQ6IGJvb2xlYW4gfSB8IFNpbUNvbm5lY3REYXRhW11cclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgY29uc3QgcGFja2V0ID0gdGhpcy5fYmVnaW5QYWNrZXQoMHgxMCkgLy9cclxuICAgICAgICAgICAgLnB1dEludDMyKGRhdGFEZWZpbml0aW9uSWQpXHJcbiAgICAgICAgICAgIC5wdXRJbnQzMihvYmplY3RJZCk7XHJcblxyXG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgcGFja2V0XHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoRGF0YVNldEZsYWcuREVGQVVMVCkgLy9cclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhLmxlbmd0aCkgLy9cclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMigwKTsgLy8gSnVzdCBhIHBsYWNlaG9sZGVyIGZvciBhcnJheSB1bml0IHNpemVcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFycmF5U3RhcnRQb3MgPSBwYWNrZXQuZ2V0UmF3QnVmZmVyKCkuZ2V0T2Zmc2V0KCk7XHJcblxyXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goc2ltQ29ubmVjdERhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2ltQ29ubmVjdERhdGEud3JpdGVUbyhwYWNrZXQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFycmF5VG90YWxTaXplID0gcGFja2V0LmdldFJhd0J1ZmZlcigpLmdldE9mZnNldCgpIC0gYXJyYXlTdGFydFBvcztcclxuICAgICAgICAgICAgY29uc3QgdW5pdFNpemUgPSBhcnJheVRvdGFsU2l6ZSAvIGRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICBwYWNrZXQucHV0SW50MzIodW5pdFNpemUsIGFycmF5U3RhcnRQb3MgLSA0KTsgLy8gUmVwbGFjZSBwbGFjZWhvbGRlclxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdGFnZ2VkLCBhcnJheUNvdW50LCBidWZmZXIgfSA9IGRhdGE7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVzID0gYnVmZmVyLmdldEJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBwYWNrZXRcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMih0YWdnZWQgPyBEYXRhU2V0RmxhZy5UQUdHRUQgOiBEYXRhU2V0RmxhZy5ERUZBVUxUKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGFycmF5Q291bnQgPT09IDAgPyAxIDogYXJyYXlDb3VudClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihieXRlcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAucHV0Qnl0ZXMoYnl0ZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChwYWNrZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIG1hcElucHV0RXZlbnRUb0NsaWVudEV2ZW50RXgxIGluc3RlYWRcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIG1hcElucHV0RXZlbnRUb0NsaWVudEV2ZW50KFxyXG4gICAgICAgIGlucHV0R3JvdXBJZDogSW5wdXRHcm91cElkLFxyXG4gICAgICAgIGlucHV0RGVmaW5pdGlvbjogc3RyaW5nLFxyXG4gICAgICAgIGNsaWVudEV2ZW50RG93bklEOiBDbGllbnRFdmVudElkLFxyXG4gICAgICAgIGRvd25WYWx1ZT86IG51bWJlcixcclxuICAgICAgICBjbGllbnRFdmVudFVwSUQ/OiBDbGllbnRFdmVudElkLFxyXG4gICAgICAgIHVwVmFsdWU/OiBudW1iZXIsXHJcbiAgICAgICAgbWFza2FibGU/OiBib29sZWFuXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MTEpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoaW5wdXRHcm91cElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dFN0cmluZzI1NihpbnB1dERlZmluaXRpb24pXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoY2xpZW50RXZlbnREb3duSUQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoZG93blZhbHVlIHx8IDApXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50RXZlbnRVcElEID09PSB1bmRlZmluZWQgPyBTaW1Db25uZWN0Q29uc3RhbnRzLlVOVVNFRCA6IGNsaWVudEV2ZW50VXBJRFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHVwVmFsdWUgfHwgMClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihtYXNrYWJsZSA/IDEgOiAwKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgc2V0SW5wdXRHcm91cFByaW9yaXR5KGlucHV0R3JvdXBJZDogSW5wdXRHcm91cElkLCBwcmlvcml0eTogTm90aWZpY2F0aW9uUHJpb3JpdHkpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MTIpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoaW5wdXRHcm91cElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHByaW9yaXR5KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlSW5wdXRFdmVudChpbnB1dEdyb3VwSWQ6IElucHV0R3JvdXBJZCwgaW5wdXREZWZpbml0aW9uOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MTMpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoaW5wdXRHcm91cElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dFN0cmluZzI1NihpbnB1dERlZmluaXRpb24pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBjbGVhcklucHV0R3JvdXAoaW5wdXRHcm91cElkOiBJbnB1dEdyb3VwSWQpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MTQpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoaW5wdXRHcm91cElkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgc2V0SW5wdXRHcm91cFN0YXRlKGlucHV0R3JvdXBJZDogSW5wdXRHcm91cElkLCBzdGF0ZTogYm9vbGVhbik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgxNSlcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihpbnB1dEdyb3VwSWQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoc3RhdGUgPyAxIDogMClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHJlcXVlc3RSZXNlcnZlZEtleShcclxuICAgICAgICBjbGllbnRFdmVudElkOiBDbGllbnRFdmVudElkLFxyXG4gICAgICAgIGtleUNob2ljZTE/OiBzdHJpbmcsXHJcbiAgICAgICAga2V5Q2hvaWNlMj86IHN0cmluZyxcclxuICAgICAgICBrZXlDaG9pY2UzPzogc3RyaW5nXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MTYpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoY2xpZW50RXZlbnRJZClcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcoa2V5Q2hvaWNlMSB8fCAnJywgMzApXHJcbiAgICAgICAgICAgICAgICAucHV0U3RyaW5nKGtleUNob2ljZTIgfHwgJycsIDMwKVxyXG4gICAgICAgICAgICAgICAgLnB1dFN0cmluZyhrZXlDaG9pY2UzIHx8ICcnLCAzMClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHN1YnNjcmliZVRvU3lzdGVtRXZlbnQoY2xpZW50RXZlbnRJZDogQ2xpZW50RXZlbnRJZCwgZXZlbnROYW1lOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MTcpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoY2xpZW50RXZlbnRJZClcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcyNTYoZXZlbnROYW1lKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgdW5zdWJzY3JpYmVGcm9tU3lzdGVtRXZlbnQoY2xpZW50RXZlbnRJZDogQ2xpZW50RXZlbnRJZCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgxOCkgLy9cclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihjbGllbnRFdmVudElkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICB3ZWF0aGVyUmVxdWVzdEludGVycG9sYXRlZE9ic2VydmF0aW9uKFxyXG4gICAgICAgIGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWQsXHJcbiAgICAgICAgbGF0OiBudW1iZXIsXHJcbiAgICAgICAgbG9uOiBudW1iZXIsXHJcbiAgICAgICAgYWx0OiBudW1iZXJcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgxOSlcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhUmVxdWVzdElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dEZsb2F0MzIobGF0KVxyXG4gICAgICAgICAgICAgICAgLnB1dEZsb2F0MzIobG9uKVxyXG4gICAgICAgICAgICAgICAgLnB1dEZsb2F0MzIoYWx0KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICB3ZWF0aGVyUmVxdWVzdE9ic2VydmF0aW9uQXRTdGF0aW9uKGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWQsIElDQU86IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgxYSkgLy9cclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhUmVxdWVzdElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dFN0cmluZyhJQ0FPLCA1KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICB3ZWF0aGVyUmVxdWVzdE9ic2VydmF0aW9uQXROZWFyZXN0U3RhdGlvbihcclxuICAgICAgICBkYXRhUmVxdWVzdElkOiBEYXRhUmVxdWVzdElkLFxyXG4gICAgICAgIGxhdDogbnVtYmVyLFxyXG4gICAgICAgIGxvbjogbnVtYmVyXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MWIpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoZGF0YVJlcXVlc3RJZClcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKGxhdClcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKGxvbilcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgTVNGUyAoS2l0dHlIYXdrKVxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgd2VhdGhlckNyZWF0ZVN0YXRpb24oXHJcbiAgICAgICAgZGF0YVJlcXVlc3RJZDogRGF0YVJlcXVlc3RJZCxcclxuICAgICAgICBJQ0FPOiBzdHJpbmcsXHJcbiAgICAgICAgbmFtZTogc3RyaW5nLFxyXG4gICAgICAgIGxhdDogbnVtYmVyLFxyXG4gICAgICAgIGxvbjogbnVtYmVyLFxyXG4gICAgICAgIGFsdDogbnVtYmVyXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MWMpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoZGF0YVJlcXVlc3RJZClcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcoSUNBTywgNSlcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcyNTYobmFtZSlcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKGxhdClcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKGxvbilcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKGFsdClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgTVNGUyAoS2l0dHlIYXdrKVxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgd2VhdGhlclJlbW92ZVN0YXRpb24oZGF0YVJlcXVlc3RJZDogRGF0YVJlcXVlc3RJZCwgSUNBTzogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDFkKSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGRhdGFSZXF1ZXN0SWQpXHJcbiAgICAgICAgICAgICAgICAucHV0U3RyaW5nKElDQU8sIDUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHdlYXRoZXJTZXRPYnNlcnZhdGlvbihzZWNvbmRzOiBudW1iZXIsIG1ldGFyOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MWUpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoc2Vjb25kcylcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcobWV0YXIpXHJcbiAgICAgICAgICAgICAgICAucHV0Qnl0ZSgwKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICB3ZWF0aGVyU2V0TW9kZVNlcnZlcihwb3J0OiBudW1iZXIsIHNlY29uZHM6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgxZikgLy9cclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihwb3J0KVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHNlY29uZHMpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHdlYXRoZXJTZXRNb2RlVGhlbWUodGhlbWVOYW1lOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MjApIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0U3RyaW5nMjU2KHRoZW1lTmFtZSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgTVNGUyAoS2l0dHlIYXdrKVxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgd2VhdGhlclNldE1vZGVHbG9iYWwoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKHRoaXMuX2JlZ2luUGFja2V0KDB4MjEpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHdlYXRoZXJTZXRNb2RlQ3VzdG9tKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZCh0aGlzLl9iZWdpblBhY2tldCgweDIyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICB3ZWF0aGVyU2V0RHluYW1pY1VwZGF0ZVJhdGUocmF0ZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDIzKSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHJhdGUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHdlYXRoZXJSZXF1ZXN0Q2xvdWRTdGF0ZShcclxuICAgICAgICBkYXRhUmVxdWVzdElkOiBEYXRhUmVxdWVzdElkLFxyXG4gICAgICAgIG1pbkxhdDogbnVtYmVyLFxyXG4gICAgICAgIG1pbkxvbjogbnVtYmVyLFxyXG4gICAgICAgIG1pbkFsdDogbnVtYmVyLFxyXG4gICAgICAgIG1heExhdDogbnVtYmVyLFxyXG4gICAgICAgIG1heExvbjogbnVtYmVyLFxyXG4gICAgICAgIG1heEFsdDogbnVtYmVyLFxyXG4gICAgICAgIGZsYWdzPzogbnVtYmVyXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MjQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoZGF0YVJlcXVlc3RJZClcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKG1pbkxhdClcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKG1pbkxvbilcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKG1pbkFsdClcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKG1heExhdClcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKG1heExvbilcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKG1heEFsdClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihmbGFncyB8fCAwKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICB3ZWF0aGVyQ3JlYXRlVGhlcm1hbChcclxuICAgICAgICBkYXRhUmVxdWVzdElkOiBEYXRhUmVxdWVzdElkLFxyXG4gICAgICAgIGxhdDogbnVtYmVyLFxyXG4gICAgICAgIGxvbjogbnVtYmVyLFxyXG4gICAgICAgIGFsdDogbnVtYmVyLFxyXG4gICAgICAgIHJhZGl1czogbnVtYmVyLFxyXG4gICAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICAgIGNvcmVSYXRlOiBudW1iZXIsXHJcbiAgICAgICAgY29yZVR1cmJ1bGVuY2U6IG51bWJlcixcclxuICAgICAgICBzaW5rUmF0ZTogbnVtYmVyLFxyXG4gICAgICAgIHNpbmtUdXJidWxlbmNlOiBudW1iZXIsXHJcbiAgICAgICAgY29yZVNpemU6IG51bWJlcixcclxuICAgICAgICBjb3JlVHJhbnNpdGlvblNpemU6IG51bWJlcixcclxuICAgICAgICBzaW5rTGF5ZXJTaXplOiBudW1iZXIsXHJcbiAgICAgICAgc2lua1RyYW5zaXRpb25TaXplOiBudW1iZXJcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgyNSlcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhUmVxdWVzdElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dEZsb2F0MzIobGF0KVxyXG4gICAgICAgICAgICAgICAgLnB1dEZsb2F0MzIobG9uKVxyXG4gICAgICAgICAgICAgICAgLnB1dEZsb2F0MzIoYWx0KVxyXG4gICAgICAgICAgICAgICAgLnB1dEZsb2F0MzIocmFkaXVzKVxyXG4gICAgICAgICAgICAgICAgLnB1dEZsb2F0MzIoaGVpZ2h0KVxyXG4gICAgICAgICAgICAgICAgLnB1dEZsb2F0MzIoY29yZVJhdGUpXHJcbiAgICAgICAgICAgICAgICAucHV0RmxvYXQzMihjb3JlVHVyYnVsZW5jZSlcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKHNpbmtSYXRlKVxyXG4gICAgICAgICAgICAgICAgLnB1dEZsb2F0MzIoc2lua1R1cmJ1bGVuY2UpXHJcbiAgICAgICAgICAgICAgICAucHV0RmxvYXQzMihjb3JlU2l6ZSlcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKGNvcmVUcmFuc2l0aW9uU2l6ZSlcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKHNpbmtMYXllclNpemUpXHJcbiAgICAgICAgICAgICAgICAucHV0RmxvYXQzMihzaW5rVHJhbnNpdGlvblNpemUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHdlYXRoZXJSZW1vdmVUaGVybWFsKG9iamVjdElkOiBPYmplY3RJZCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgyNikgLy9cclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihvYmplY3RJZClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIGFJQ3JlYXRlUGFya2VkQVRDQWlyY3JhZnQoXHJcbiAgICAgICAgY29udGFpbmVyVGl0bGU6IHN0cmluZyxcclxuICAgICAgICB0YWlsTnVtYmVyOiBzdHJpbmcsXHJcbiAgICAgICAgYWlycG9ydElEOiBzdHJpbmcsXHJcbiAgICAgICAgZGF0YVJlcXVlc3RJZDogRGF0YVJlcXVlc3RJZFxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDI3KVxyXG4gICAgICAgICAgICAgICAgLnB1dFN0cmluZzI1Nihjb250YWluZXJUaXRsZSlcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcodGFpbE51bWJlciwgMTIpXHJcbiAgICAgICAgICAgICAgICAucHV0U3RyaW5nKGFpcnBvcnRJRCwgNSlcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhUmVxdWVzdElkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgYUlDcmVhdGVFbnJvdXRlQVRDQWlyY3JhZnQoXHJcbiAgICAgICAgY29udGFpbmVyVGl0bGU6IHN0cmluZyxcclxuICAgICAgICB0YWlsTnVtYmVyOiBzdHJpbmcsXHJcbiAgICAgICAgZmxpZ2h0TnVtYmVyOiBudW1iZXIsXHJcbiAgICAgICAgZmxpZ2h0UGxhblBhdGg6IHN0cmluZyxcclxuICAgICAgICBmbGlnaHRQbGFuUG9zaXRpb246IG51bWJlcixcclxuICAgICAgICB0b3VjaEFuZEdvOiBib29sZWFuLFxyXG4gICAgICAgIGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWRcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgyOClcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcyNTYoY29udGFpbmVyVGl0bGUpXHJcbiAgICAgICAgICAgICAgICAucHV0U3RyaW5nKHRhaWxOdW1iZXIsIDEyKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGZsaWdodE51bWJlcilcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcoZmxpZ2h0UGxhblBhdGgsIDI2MClcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDY0KGZsaWdodFBsYW5Qb3NpdGlvbilcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMih0b3VjaEFuZEdvID8gMSA6IDApXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoZGF0YVJlcXVlc3RJZClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIGFJQ3JlYXRlTm9uQVRDQWlyY3JhZnQoXHJcbiAgICAgICAgY29udGFpbmVyVGl0bGU6IHN0cmluZyxcclxuICAgICAgICB0YWlsTnVtYmVyOiBzdHJpbmcsXHJcbiAgICAgICAgaW5pdFBvczogSW5pdFBvc2l0aW9uLFxyXG4gICAgICAgIGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWRcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgY29uc3QgcGFja2V0ID0gdGhpcy5fYmVnaW5QYWNrZXQoMHgyOSlcclxuICAgICAgICAgICAgLnB1dFN0cmluZzI1Nihjb250YWluZXJUaXRsZSlcclxuICAgICAgICAgICAgLnB1dFN0cmluZyh0YWlsTnVtYmVyLCAxMik7XHJcblxyXG4gICAgICAgIGluaXRQb3Mud3JpdGVUbyhwYWNrZXQpO1xyXG4gICAgICAgIHBhY2tldC5wdXRJbnQzMihkYXRhUmVxdWVzdElkKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChwYWNrZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIGFJQ3JlYXRlU2ltdWxhdGVkT2JqZWN0KFxyXG4gICAgICAgIGNvbnRhaW5lclRpdGxlOiBzdHJpbmcsXHJcbiAgICAgICAgaW5pdFBvczogSW5pdFBvc2l0aW9uLFxyXG4gICAgICAgIGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWRcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgY29uc3QgcGFja2V0ID0gdGhpcy5fYmVnaW5QYWNrZXQoMHgyYSk7XHJcblxyXG4gICAgICAgIHBhY2tldC5wdXRTdHJpbmcyNTYoY29udGFpbmVyVGl0bGUpO1xyXG4gICAgICAgIGluaXRQb3Mud3JpdGVUbyhwYWNrZXQpO1xyXG4gICAgICAgIHBhY2tldC5wdXRJbnQzMihkYXRhUmVxdWVzdElkKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChwYWNrZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIGFJUmVsZWFzZUNvbnRyb2wob2JqZWN0SWQ6IE9iamVjdElkLCBkYXRhUmVxdWVzdElkOiBEYXRhUmVxdWVzdElkKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDJiKSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKG9iamVjdElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGRhdGFSZXF1ZXN0SWQpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBhSVJlbW92ZU9iamVjdChvYmplY3RJZDogT2JqZWN0SWQsIGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWQpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MmMpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIob2JqZWN0SWQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoZGF0YVJlcXVlc3RJZClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIGFJU2V0QWlyY3JhZnRGbGlnaHRQbGFuKFxyXG4gICAgICAgIG9iamVjdElkOiBPYmplY3RJZCxcclxuICAgICAgICBmbGlnaHRQbGFuUGF0aDogc3RyaW5nLFxyXG4gICAgICAgIGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWRcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgyZClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihvYmplY3RJZClcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcoZmxpZ2h0UGxhblBhdGgsIDI2MClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhUmVxdWVzdElkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgZXhlY3V0ZU1pc3Npb25BY3Rpb24oZ3VpZEluc3RhbmNlSWQ6IEJ1ZmZlcik6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKGd1aWRJbnN0YW5jZUlkLmxlbmd0aCAhPT0gMTYpIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5HdWlkSW52YWxpZFNpemUpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDJlKSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dEJ5dGVzKGd1aWRJbnN0YW5jZUlkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgY29tcGxldGVDdXN0b21NaXNzaW9uQWN0aW9uKGd1aWRJbnN0YW5jZUlkOiBCdWZmZXIpOiBudW1iZXIge1xyXG4gICAgICAgIGlmIChndWlkSW5zdGFuY2VJZC5sZW5ndGggIT09IDE2KSB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuR3VpZEludmFsaWRTaXplKTsgLy8gJE5PTi1OTFMtMSRcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgyZikgLy9cclxuICAgICAgICAgICAgICAgIC5wdXRCeXRlcyhndWlkSW5zdGFuY2VJZClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIGNhbWVyYVNldFJlbGF0aXZlNkRPRihcclxuICAgICAgICBkZWx0YVg6IG51bWJlcixcclxuICAgICAgICBkZWx0YVk6IG51bWJlcixcclxuICAgICAgICBkZWx0YVo6IG51bWJlcixcclxuICAgICAgICBwaXRjaERlZzogbnVtYmVyLFxyXG4gICAgICAgIGJhbmtEZWc6IG51bWJlcixcclxuICAgICAgICBoZWFkaW5nRGVnOiBudW1iZXJcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgzMClcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKGRlbHRhWClcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKGRlbHRhWSlcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKGRlbHRhWilcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKHBpdGNoRGVnKVxyXG4gICAgICAgICAgICAgICAgLnB1dEZsb2F0MzIoYmFua0RlZylcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKGhlYWRpbmdEZWcpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIG1lbnVBZGRJdGVtKG1lbnVJdGVtOiBzdHJpbmcsIG1lbnVFdmVudElkOiBDbGllbnRFdmVudElkLCBkYXRhOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MzEpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0U3RyaW5nMjU2KG1lbnVJdGVtKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKG1lbnVFdmVudElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGRhdGEpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIG1lbnVEZWxldGVJdGVtKG1lbnVFdmVudElkOiBDbGllbnRFdmVudElkKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDMyKSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKG1lbnVFdmVudElkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBtZW51QWRkU3ViSXRlbShcclxuICAgICAgICBtZW51RXZlbnRJZDogQ2xpZW50RXZlbnRJZCxcclxuICAgICAgICBtZW51SXRlbTogc3RyaW5nLFxyXG4gICAgICAgIHN1Yk1lbnVFdmVudElkOiBDbGllbnRFdmVudElkLFxyXG4gICAgICAgIGRhdGE6IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgzMylcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihtZW51RXZlbnRJZClcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcyNTYobWVudUl0ZW0pXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoc3ViTWVudUV2ZW50SWQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoZGF0YSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgTVNGUyAoS2l0dHlIYXdrKVxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgbWVudURlbGV0ZVN1Ykl0ZW0obWVudUV2ZW50SWQ6IENsaWVudEV2ZW50SWQsIHN1Yk1lbnVFdmVudElkOiBDbGllbnRFdmVudElkKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDM0KSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKG1lbnVFdmVudElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHN1Yk1lbnVFdmVudElkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgcmVxdWVzdFN5c3RlbVN0YXRlKGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWQsIHN0YXRlOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MzUpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoZGF0YVJlcXVlc3RJZClcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcyNTYoc3RhdGUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBzZXRTeXN0ZW1TdGF0ZShcclxuICAgICAgICBzdGF0ZTogc3RyaW5nLFxyXG4gICAgICAgIHBhcmFtSW50OiBudW1iZXIsXHJcbiAgICAgICAgcGFyYW1GbG9hdDogbnVtYmVyLFxyXG4gICAgICAgIHBhcmFtU3RyaW5nOiBzdHJpbmdcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgzNilcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcyNTYoc3RhdGUpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIocGFyYW1JbnQpXHJcbiAgICAgICAgICAgICAgICAucHV0RmxvYXQzMihwYXJhbUZsb2F0KVxyXG4gICAgICAgICAgICAgICAgLnB1dFN0cmluZzI1NihwYXJhbVN0cmluZylcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMigwKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgbWFwQ2xpZW50RGF0YU5hbWVUb0lEKGNsaWVudERhdGFOYW1lOiBzdHJpbmcsIGNsaWVudERhdGFJZDogQ2xpZW50RGF0YUlkKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDM3KSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dFN0cmluZzI1NihjbGllbnREYXRhTmFtZSlcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihjbGllbnREYXRhSWQpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBjcmVhdGVDbGllbnREYXRhKGNsaWVudERhdGFJZDogQ2xpZW50RGF0YUlkLCBzaXplOiBudW1iZXIsIHJlYWRPbmx5OiBib29sZWFuKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDM4KVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGNsaWVudERhdGFJZClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihzaXplKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHJlYWRPbmx5ID8gMSA6IDApXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBhZGRUb0NsaWVudERhdGFEZWZpbml0aW9uKFxyXG4gICAgICAgIGRhdGFEZWZpbml0aW9uSWQ6IERhdGFEZWZpbml0aW9uSWQsXHJcbiAgICAgICAgb2Zmc2V0OiBudW1iZXIsXHJcbiAgICAgICAgc2l6ZU9yVHlwZTogbnVtYmVyLFxyXG4gICAgICAgIGVwc2lsb24/OiBudW1iZXIsXHJcbiAgICAgICAgZGF0dW1JZD86IG51bWJlclxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5GU1hfU1AxKSB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuQmFkVmVyc2lvbik7IC8vICROT04tTkxTLTEkXHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4MzkpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoZGF0YURlZmluaXRpb25JZClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihvZmZzZXQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoc2l6ZU9yVHlwZSlcclxuICAgICAgICAgICAgICAgIC5wdXRGbG9hdDMyKGVwc2lsb24gfHwgMClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXR1bUlkIHx8IDApXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBjbGVhckNsaWVudERhdGFEZWZpbml0aW9uKGRhdGFEZWZpbml0aW9uSWQ6IERhdGFEZWZpbml0aW9uSWQpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4M2EpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoZGF0YURlZmluaXRpb25JZClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHJlcXVlc3RDbGllbnREYXRhPE8gZXh0ZW5kcyBudW1iZXIsIEkgZXh0ZW5kcyBudW1iZXIsIEwgZXh0ZW5kcyBudW1iZXI+KFxyXG4gICAgICAgIGNsaWVudERhdGFJZDogQ2xpZW50RGF0YUlkLFxyXG4gICAgICAgIGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWQsXHJcbiAgICAgICAgY2xpZW50RGF0YURlZmluZUlEOiBDbGllbnREYXRhRGVmaW5pdGlvbklkLFxyXG4gICAgICAgIHBlcmlvZDogQ2xpZW50RGF0YVBlcmlvZCxcclxuICAgICAgICBmbGFnczogQ2xpZW50RGF0YVJlcXVlc3RGbGFnLFxyXG4gICAgICAgIG9yaWdpbj86IE8sXHJcbiAgICAgICAgaW50ZXJ2YWw/OiBJLFxyXG4gICAgICAgIGxpbWl0PzogTFxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5GU1hfU1AxKSB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuQmFkVmVyc2lvbik7IC8vICROT04tTkxTLTEkXHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4M2IpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoY2xpZW50RGF0YUlkKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGRhdGFSZXF1ZXN0SWQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoY2xpZW50RGF0YURlZmluZUlEKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHBlcmlvZClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihmbGFncylcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihvcmlnaW4gfHwgMClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihpbnRlcnZhbCB8fCAwKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGxpbWl0IHx8IDApXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBzZXRDbGllbnREYXRhKFxyXG4gICAgICAgIGNsaWVudERhdGFJZDogQ2xpZW50RGF0YUlkLFxyXG4gICAgICAgIGNsaWVudERhdGFEZWZpbmVJRDogQ2xpZW50RGF0YURlZmluaXRpb25JZCxcclxuICAgICAgICByZXNlcnZlZDogbnVtYmVyLFxyXG4gICAgICAgIGFycmF5Q291bnQ6IG51bWJlcixcclxuICAgICAgICB1bml0U2l6ZTogbnVtYmVyLFxyXG4gICAgICAgIGRhdGE6IEJ1ZmZlclxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDNjKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGNsaWVudERhdGFJZClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihjbGllbnREYXRhRGVmaW5lSUQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoMCkgLy8gZG8gbm90IHVzZSBhcmdcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMigxKSAvLyBkbyBub3QgdXNlIGFyZ1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogYWRkIHN1cHBvcnQgZm9yIGFycmF5cyBodHRwczovL2dpdGh1Yi5jb20vbWhhcmovanNpbWNvbm5lY3QvYmxvYi9tYXN0ZXIvc3JjL2ZsaWdodHNpbS9zaW1jb25uZWN0L1NpbUNvbm5lY3QuamF2YSNMMzgwM1xyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHVuaXRTaXplKVxyXG4gICAgICAgICAgICAgICAgLnB1dEJ5dGVzKGRhdGEpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBmbGlnaHRMb2FkKGZpbGVOYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4M2QpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0U3RyaW5nKGZpbGVOYW1lLCBTaW1Db25uZWN0Q29uc3RhbnRzLk1BWF9QQVRIKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgZmxpZ2h0U2F2ZShcclxuICAgICAgICBmaWxlTmFtZTogc3RyaW5nLFxyXG4gICAgICAgIHRpdGxlOiBzdHJpbmcgfCBudWxsLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXHJcbiAgICAgICAgZmxhZ3M/OiBudW1iZXIgLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgICAvLyBwYWNrZXQgc2l6ZSAweDkxOCAoU1AxKSwgMHhBMUMgKFNQMilcclxuICAgICAgICBjb25zdCBwYWNrZXQgPSB0aGlzLl9iZWdpblBhY2tldCgweDNlKTtcclxuXHJcbiAgICAgICAgcGFja2V0LnB1dFN0cmluZyhmaWxlTmFtZSwgU2ltQ29ubmVjdENvbnN0YW50cy5NQVhfUEFUSCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vdXJQcm90b2NvbCA+PSBQcm90b2NvbC5GU1hfU1AyKSB7XHJcbiAgICAgICAgICAgIHBhY2tldC5wdXRTdHJpbmcodGl0bGUgPT09IG51bGwgPyBmaWxlTmFtZSA6IHRpdGxlLCBTaW1Db25uZWN0Q29uc3RhbnRzLk1BWF9QQVRIKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBhY2tldC5wdXRTdHJpbmcoZGVzY3JpcHRpb24sIDIwNDgpO1xyXG4gICAgICAgIHBhY2tldC5wdXRJbnQzMihTaW1Db25uZWN0Q29uc3RhbnRzLlVOVVNFRCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQocGFja2V0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBmbGlnaHRQbGFuTG9hZChmaWxlTmFtZTogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDNmKSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dFN0cmluZyhmaWxlTmFtZSwgU2ltQ29ubmVjdENvbnN0YW50cy5NQVhfUEFUSClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgTVNGUyAoS2l0dHlIYXdrKVxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgdGV4dChcclxuICAgICAgICB0eXBlOiBUZXh0VHlwZSxcclxuICAgICAgICB0aW1lU2Vjb25kczogbnVtYmVyLFxyXG4gICAgICAgIGNsaWVudEV2ZW50SWQ6IENsaWVudEV2ZW50SWQsXHJcbiAgICAgICAgbWVzc2FnZTogc3RyaW5nXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLl9vdXJQcm90b2NvbCA8IFByb3RvY29sLkZTWF9TUDEpIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTsgLy8gJE5PTi1OTFMtMSRcclxuXHJcbiAgICAgICAgY29uc3QgcGFja2V0ID0gdGhpcy5fYmVnaW5QYWNrZXQoMHg0MClcclxuICAgICAgICAgICAgLnB1dEludDMyKHR5cGUpXHJcbiAgICAgICAgICAgIC5wdXRGbG9hdDMyKHRpbWVTZWNvbmRzKVxyXG4gICAgICAgICAgICAucHV0SW50MzIoY2xpZW50RXZlbnRJZCk7XHJcblxyXG4gICAgICAgIGlmIChtZXNzYWdlICE9PSBudWxsICYmIG1lc3NhZ2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBwYWNrZXQucHV0SW50MzIobWVzc2FnZS5sZW5ndGggKyAxKTtcclxuICAgICAgICAgICAgcGFja2V0LnB1dFN0cmluZyhtZXNzYWdlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwYWNrZXQucHV0SW50MzIoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhY2tldC5wdXRCeXRlKDApO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQocGFja2V0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIG1lbnUoXHJcbiAgICAgICAgdGltZVNlY29uZHM6IG51bWJlcixcclxuICAgICAgICBjbGllbnRFdmVudElkOiBDbGllbnRFdmVudElkLFxyXG4gICAgICAgIHRpdGxlPzogc3RyaW5nLFxyXG4gICAgICAgIHByb21wdD86IHN0cmluZyxcclxuICAgICAgICAuLi5pdGVtczogc3RyaW5nW11cclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHRoaXMuX291clByb3RvY29sIDwgUHJvdG9jb2wuRlNYX1NQMSkgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLkJhZFZlcnNpb24pOyAvLyAkTk9OLU5MUy0xJFxyXG5cclxuICAgICAgICBjb25zdCBwYWNrZXQgPSB0aGlzLl9iZWdpblBhY2tldCgweDQwKVxyXG4gICAgICAgICAgICAucHV0SW50MzIoVGV4dFR5cGUuTUVOVSlcclxuICAgICAgICAgICAgLnB1dEZsb2F0MzIodGltZVNlY29uZHMpXHJcbiAgICAgICAgICAgIC5wdXRJbnQzMihjbGllbnRFdmVudElkKVxyXG4gICAgICAgICAgICAucHV0SW50MzIoMCk7IC8vIHNpemUsIHdpbGwgYmUgc2V0IGxhdGVyXHJcblxyXG4gICAgICAgIGlmICghdGl0bGUgJiYgIXByb21wdCAmJiBpdGVtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcGFja2V0LnB1dEJ5dGUoMCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aXRsZSAmJiBwcm9tcHQpIHtcclxuICAgICAgICAgICAgcGFja2V0XHJcbiAgICAgICAgICAgICAgICAucHV0U3RyaW5nKHRpdGxlKSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dEJ5dGUoMClcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcocHJvbXB0KVxyXG4gICAgICAgICAgICAgICAgLnB1dEJ5dGUoMCk7XHJcblxyXG4gICAgICAgICAgICBpdGVtcy5mb3JFYWNoKHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgcGFja2V0LnB1dFN0cmluZyhzKS5wdXRCeXRlKDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2V0IHNpemVcclxuICAgICAgICBwYWNrZXQucHV0SW50MzIocGFja2V0LmdldFJhd0J1ZmZlcigpLmdldE9mZnNldCgpIC0gMzIsIDI4KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChwYWNrZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHN1YnNjcmliZVRvRmFjaWxpdGllcyh0eXBlOiBGYWNpbGl0eUxpc3RUeXBlLCBjbGllbnRFdmVudElkOiBDbGllbnRFdmVudElkKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5GU1hfU1AxKSB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuQmFkVmVyc2lvbik7IC8vICROT04tTkxTLTEkXHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuX2JlZ2luUGFja2V0KDB4NDEpIC8vXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIodHlwZSlcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihjbGllbnRFdmVudElkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgdW5TdWJzY3JpYmVUb0ZhY2lsaXRpZXModHlwZTogRmFjaWxpdHlMaXN0VHlwZSk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHRoaXMuX291clByb3RvY29sIDwgUHJvdG9jb2wuRlNYX1NQMSkgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLkJhZFZlcnNpb24pOyAvLyAkTk9OLU5MUy0xJFxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDQyKSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHR5cGUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICByZXF1ZXN0RmFjaWxpdGllc0xpc3QodHlwZTogRmFjaWxpdHlMaXN0VHlwZSwgY2xpZW50RXZlbnRJZDogQ2xpZW50RXZlbnRJZCk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHRoaXMuX291clByb3RvY29sIDwgUHJvdG9jb2wuRlNYX1NQMSkgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLkJhZFZlcnNpb24pOyAvLyAkTk9OLU5MUy0xJFxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDQzKSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHR5cGUpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIoY2xpZW50RXZlbnRJZClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHRyYW5zbWl0Q2xpZW50RXZlbnRFeChcclxuICAgICAgICBvYmplY3RJZDogT2JqZWN0SWQsXHJcbiAgICAgICAgY2xpZW50RXZlbnRJZDogQ2xpZW50RXZlbnRJZCxcclxuICAgICAgICBub3RpZmljYXRpb25Hcm91cElkOiBOb3RpZmljYXRpb25Hcm91cElkLFxyXG4gICAgICAgIGZsYWdzOiBFdmVudEZsYWcsXHJcbiAgICAgICAgZGF0YTAgPSAwLFxyXG4gICAgICAgIGRhdGExID0gMCxcclxuICAgICAgICBkYXRhMiA9IDAsXHJcbiAgICAgICAgZGF0YTMgPSAwLFxyXG4gICAgICAgIGRhdGE0ID0gMFxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDQ0KVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKG9iamVjdElkKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGNsaWVudEV2ZW50SWQpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIobm90aWZpY2F0aW9uR3JvdXBJZClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihmbGFncylcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhMClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhMSlcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhMilcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhMylcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhNClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIGFkZFRvRmFjaWxpdHlEZWZpbml0aW9uKGRhdGFEZWZpbml0aW9uSWQ6IERhdGFEZWZpbml0aW9uSWQsIGZpZWxkTmFtZTogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5LaXR0eUhhd2spIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHg0NSkgLy9cclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhRGVmaW5pdGlvbklkKVxyXG4gICAgICAgICAgICAgICAgLnB1dFN0cmluZzI1NihmaWVsZE5hbWUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICByZXF1ZXN0RmFjaWxpdHlEYXRhKFxyXG4gICAgICAgIGRhdGFEZWZpbml0aW9uSWQ6IERhdGFEZWZpbml0aW9uSWQsXHJcbiAgICAgICAgZGF0YVJlcXVlc3RJZDogRGF0YVJlcXVlc3RJZCxcclxuICAgICAgICBpY2FvOiBzdHJpbmcsXHJcbiAgICAgICAgcmVnaW9uPzogc3RyaW5nLFxyXG4gICAgICAgIHR5cGU/OiBJY2FvVHlwZVxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5LaXR0eUhhd2spIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFja2V0ID0gdGhpcy5fYmVnaW5QYWNrZXQodHlwZSA9PT0gdW5kZWZpbmVkID8gMHg0NiA6IDB4NGEpXHJcbiAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhRGVmaW5pdGlvbklkKVxyXG4gICAgICAgICAgICAucHV0SW50MzIoZGF0YVJlcXVlc3RJZClcclxuICAgICAgICAgICAgLnB1dFN0cmluZyhpY2FvLCAxNilcclxuICAgICAgICAgICAgLnB1dFN0cmluZyhyZWdpb24gfHwgJycsIDQpO1xyXG5cclxuICAgICAgICBpZiAodHlwZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbUNvbm5lY3RfUmVxdWVzdEZhY2lsaXR5RGF0YVxyXG4gICAgICAgICAgICBwYWNrZXQucHV0U3RyaW5nKHR5cGUsIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChwYWNrZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHN1YnNjcmliZVRvRmFjaWxpdGllc0V4MShcclxuICAgICAgICB0eXBlOiBGYWNpbGl0eUxpc3RUeXBlLFxyXG4gICAgICAgIG5ld0VsZW1JblJhbmdlUmVxdWVzdElEOiBEYXRhUmVxdWVzdElkLFxyXG4gICAgICAgIG9sZEVsZW1PdXRSYW5nZVJlcXVlc3RJRDogRGF0YVJlcXVlc3RJZFxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5LaXR0eUhhd2spIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTsgLy8gJE5PTi1OTFMtMSRcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHg0NykgLy9cclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMih0eXBlKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKG5ld0VsZW1JblJhbmdlUmVxdWVzdElEKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKG9sZEVsZW1PdXRSYW5nZVJlcXVlc3RJRClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHVuU3Vic2NyaWJlVG9GYWNpbGl0aWVzRXgxKFxyXG4gICAgICAgIHR5cGU6IEZhY2lsaXR5TGlzdFR5cGUsXHJcbiAgICAgICAgdW5zdWJzY3JpYmVOZXdJblJhbmdlOiBib29sZWFuLFxyXG4gICAgICAgIHVuc3Vic2NyaWJlT2xkT3V0UmFuZ2U6IGJvb2xlYW5cclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHRoaXMuX291clByb3RvY29sIDwgUHJvdG9jb2wuRlNYX1NQMSkgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLkJhZFZlcnNpb24pOyAvLyAkTk9OLU5MUy0xJFxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKFxyXG4gICAgICAgICAgICB0aGlzLl9iZWdpblBhY2tldCgweDQ4KSAvL1xyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHR5cGUpXHJcbiAgICAgICAgICAgICAgICAucHV0Qnl0ZSh1bnN1YnNjcmliZU5ld0luUmFuZ2UgPyAxIDogMClcclxuICAgICAgICAgICAgICAgIC5wdXRCeXRlKHVuc3Vic2NyaWJlT2xkT3V0UmFuZ2UgPyAxIDogMClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHJlcXVlc3RGYWNpbGl0aWVzTGlzdEV4MSh0eXBlOiBGYWNpbGl0eUxpc3RUeXBlLCBjbGllbnRFdmVudElkOiBDbGllbnRFdmVudElkKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5LaXR0eUhhd2spIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTsgLy8gJE5PTi1OTFMtMSRcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHg0OSkgLy9cclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMih0eXBlKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKGNsaWVudEV2ZW50SWQpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICByZXF1ZXN0SmV0d2F5RGF0YShhaXJwb3J0SWNhbzogc3RyaW5nLCBwYXJraW5nSW5kaWNlcz86IG51bWJlcltdKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5LaXR0eUhhd2spIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFja2V0ID0gdGhpcy5fYmVnaW5QYWNrZXQoMHg0YilcclxuICAgICAgICAgICAgLnB1dFN0cmluZyhhaXJwb3J0SWNhbywgMTYpXHJcbiAgICAgICAgICAgIC5wdXRJbnQzMihwYXJraW5nSW5kaWNlcz8ubGVuZ3RoIHx8IDApO1xyXG5cclxuICAgICAgICBpZiAocGFya2luZ0luZGljZXMgPT09IHVuZGVmaW5lZCB8fCBwYXJraW5nSW5kaWNlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcGFja2V0LnB1dEludDMyKDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhcmtpbmdJbmRpY2VzLmZvckVhY2gocGFya2luZ0luZGV4ID0+IHtcclxuICAgICAgICAgICAgICAgIHBhY2tldC5wdXRJbnQzMihwYXJraW5nSW5kZXgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQocGFja2V0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBlbnVtZXJhdGVDb250cm9sbGVycygpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLl9vdXJQcm90b2NvbCA8IFByb3RvY29sLktpdHR5SGF3aykgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLkJhZFZlcnNpb24pO1xyXG5cclxuICAgICAgICBjb25zdCBwYWNrZXQgPSB0aGlzLl9iZWdpblBhY2tldCgweDRjKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKHBhY2tldCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgbWFwSW5wdXRFdmVudFRvQ2xpZW50RXZlbnRFeDEoXHJcbiAgICAgICAgaW5wdXRHcm91cElkOiBJbnB1dEdyb3VwSWQsXHJcbiAgICAgICAgaW5wdXREZWZpbml0aW9uOiBzdHJpbmcsXHJcbiAgICAgICAgY2xpZW50RXZlbnREb3duSUQ6IENsaWVudEV2ZW50SWQsXHJcbiAgICAgICAgZG93blZhbHVlPzogbnVtYmVyLCAvLyAwXHJcbiAgICAgICAgY2xpZW50RXZlbnRVcElEPzogQ2xpZW50RXZlbnRJZCwgLy8gU2ltQ29ubmVjdENvbnN0YW50cy5VTlVTRURcclxuICAgICAgICB1cFZhbHVlPzogbnVtYmVyLCAvLyAwLFxyXG4gICAgICAgIG1hc2thYmxlPzogYm9vbGVhbiAvLyBmYWxzZVxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5LaXR0eUhhd2spIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHg0ZClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihpbnB1dEdyb3VwSWQpXHJcbiAgICAgICAgICAgICAgICAucHV0U3RyaW5nMjU2KGlucHV0RGVmaW5pdGlvbilcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihjbGllbnRFdmVudERvd25JRClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihkb3duVmFsdWUgfHwgMClcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMihcclxuICAgICAgICAgICAgICAgICAgICBjbGllbnRFdmVudFVwSUQgPT09IHVuZGVmaW5lZCA/IFNpbUNvbm5lY3RDb25zdGFudHMuVU5VU0VEIDogY2xpZW50RXZlbnRVcElEXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIodXBWYWx1ZSB8fCAwKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKG1hc2thYmxlID8gMSA6IDApXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNlZSBodHRwczovL3d3dy5mc2RldmVsb3Blci5jb20vd2lraS9pbmRleC5waHAvTVNGU19NaXNzaW9uX1NjcmlwdF8tX0FjdGlvbnNcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBleGVjdXRlQWN0aW9uKGRhdGFSZXF1ZXN0SUQ6IG51bWJlciwgYWN0aW9uSUQ6IHN0cmluZywgdmFsdWVzOiBSYXdCdWZmZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5LaXR0eUhhd2spIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFyYW1WYWx1ZXMgPSB2YWx1ZXMuZ2V0QnVmZmVyKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhY2tldCA9IHRoaXMuX2JlZ2luUGFja2V0KDB4NGUpXHJcbiAgICAgICAgICAgIC5wdXRJbnQzMihkYXRhUmVxdWVzdElEKVxyXG4gICAgICAgICAgICAucHV0U3RyaW5nMjU2KGFjdGlvbklEKVxyXG4gICAgICAgICAgICAucHV0SW50MzIocGFyYW1WYWx1ZXMubGVuZ3RoKVxyXG4gICAgICAgICAgICAucHV0Qnl0ZXMocGFyYW1WYWx1ZXMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQocGFja2V0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBlbnVtZXJhdGVJbnB1dEV2ZW50cyhkYXRhUmVxdWVzdElEOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLl9vdXJQcm90b2NvbCA8IFByb3RvY29sLktpdHR5SGF3aykgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLkJhZFZlcnNpb24pO1xyXG5cclxuICAgICAgICBjb25zdCBwYWNrZXQgPSB0aGlzLl9iZWdpblBhY2tldCgweDRmKS5wdXRJbnQzMihkYXRhUmVxdWVzdElEKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKHBhY2tldCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgZ2V0SW5wdXRFdmVudChkYXRhUmVxdWVzdElEOiBudW1iZXIsIGlucHV0RXZlbnRIYXNoSUQ6IExvbmcpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLl9vdXJQcm90b2NvbCA8IFByb3RvY29sLktpdHR5SGF3aykgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLkJhZFZlcnNpb24pO1xyXG5cclxuICAgICAgICBjb25zdCBwYWNrZXQgPSB0aGlzLl9iZWdpblBhY2tldCgweDUwKS5wdXRJbnQzMihkYXRhUmVxdWVzdElEKS5wdXRVaW50NjQoaW5wdXRFdmVudEhhc2hJRCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZChwYWNrZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHNldElucHV0RXZlbnQoaW5wdXRFdmVudEhhc2hJRDogTG9uZywgdmFsdWU6IG51bWJlciB8IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHRoaXMuX291clByb3RvY29sIDwgUHJvdG9jb2wuS2l0dHlIYXdrKSB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuQmFkVmVyc2lvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhY2tldCA9IHRoaXMuX2JlZ2luUGFja2V0KDB4NTEpLnB1dFVpbnQ2NChpbnB1dEV2ZW50SGFzaElEKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcGFja2V0LnB1dEludDMyKHZhbHVlLmxlbmd0aCkucHV0U3RyaW5nKHZhbHVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwYWNrZXQucHV0SW50MzIoOCkucHV0RmxvYXQ2NCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKHBhY2tldCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc2VuZElkIG9mIHBhY2tldCAoY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgcGFja2V0IHdoZW4gZXhjZXB0aW9uIGV2ZW50IG9jY3VycylcclxuICAgICAqL1xyXG4gICAgc3Vic2NyaWJlSW5wdXRFdmVudChpbnB1dEV2ZW50SGFzaElEOiBMb25nKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5LaXR0eUhhd2spIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZCh0aGlzLl9iZWdpblBhY2tldCgweDUyKS5wdXRVaW50NjQoaW5wdXRFdmVudEhhc2hJRCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIHVuc3Vic2NyaWJlSW5wdXRFdmVudChpbnB1dEV2ZW50SGFzaElEOiBMb25nKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5LaXR0eUhhd2spIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQW5kU2VuZCh0aGlzLl9iZWdpblBhY2tldCgweDUzKS5wdXRVaW50NjQoaW5wdXRFdmVudEhhc2hJRCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHNlbmRJZCBvZiBwYWNrZXQgKGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHBhY2tldCB3aGVuIGV4Y2VwdGlvbiBldmVudCBvY2N1cnMpXHJcbiAgICAgKi9cclxuICAgIGVudW1lcmF0ZUlucHV0RXZlbnRQYXJhbXMoaW5wdXRFdmVudEhhc2hJRDogTG9uZyk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHRoaXMuX291clByb3RvY29sIDwgUHJvdG9jb2wuS2l0dHlIYXdrKSB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuQmFkVmVyc2lvbik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQodGhpcy5fYmVnaW5QYWNrZXQoMHg1NCkucHV0VWludDY0KGlucHV0RXZlbnRIYXNoSUQpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZGF0YURlZmluaXRpb25JZCAtXHJcbiAgICAgKiBAcGFyYW0gZmlsdGVyUGF0aCAtXHJcbiAgICAgKiBAcGFyYW0gZmlsdGVyRGF0YSAtIHVzZSBudWxsIHRvIHJlbW92ZSBhIHByZXZpb3VzbHkgYXBwbGllZCBmaWx0ZXJcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBhZGRGYWNpbGl0eURhdGFEZWZpbml0aW9uRmlsdGVyKFxyXG4gICAgICAgIGRhdGFEZWZpbml0aW9uSWQ6IERhdGFEZWZpbml0aW9uSWQsXHJcbiAgICAgICAgZmlsdGVyUGF0aDogc3RyaW5nLFxyXG4gICAgICAgIGZpbHRlckRhdGE6IFJhd0J1ZmZlciB8IG51bGxcclxuICAgICkge1xyXG4gICAgICAgIGlmICh0aGlzLl9vdXJQcm90b2NvbCA8IFByb3RvY29sLktpdHR5SGF3aykgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLkJhZFZlcnNpb24pO1xyXG5cclxuICAgICAgICBjb25zdCBwYWNrZXQgPSB0aGlzLl9iZWdpblBhY2tldCgweDU1KS5wdXRJbnQzMihkYXRhRGVmaW5pdGlvbklkKS5wdXRTdHJpbmcyNTYoZmlsdGVyUGF0aCk7XHJcblxyXG4gICAgICAgIGlmIChmaWx0ZXJEYXRhID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHBhY2tldC5wdXRJbnQzMigwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJEYXRhQnVmZmVyID0gZmlsdGVyRGF0YS5nZXRCdWZmZXIoKTtcclxuICAgICAgICAgICAgcGFja2V0LnB1dEludDMyKGZpbHRlckRhdGFCdWZmZXIubGVuZ3RoKS5wdXRCeXRlcyhmaWx0ZXJEYXRhQnVmZmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEFuZFNlbmQocGFja2V0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzZW5kSWQgb2YgcGFja2V0IChjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBwYWNrZXQgd2hlbiBleGNlcHRpb24gZXZlbnQgb2NjdXJzKVxyXG4gICAgICovXHJcbiAgICBjbGVhckFsbEZhY2lsaXR5RGF0YURlZmluaXRpb25GaWx0ZXJzKGRhdGFEZWZpbml0aW9uSWQ6IERhdGFEZWZpbml0aW9uSWQpIHtcclxuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5LaXR0eUhhd2spIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRBbmRTZW5kKHRoaXMuX2JlZ2luUGFja2V0KDB4NTYpLnB1dEludDMyKGRhdGFEZWZpbml0aW9uSWQpKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fb3BlblRpbWVvdXQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX29wZW5UaW1lb3V0KTtcclxuICAgICAgICAgICAgdGhpcy5fb3BlblRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jbGllbnRTb2NrZXQuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRMYXN0U2VudFBhY2tldElEKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYWNrZXRzU2VudCAtIDE7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfYmVnaW5QYWNrZXQocGFja2V0SWQ6IG51bWJlcik6IFNpbUNvbm5lY3RQYWNrZXRCdWlsZGVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFNpbUNvbm5lY3RQYWNrZXRCdWlsZGVyKHBhY2tldElkLCB0aGlzLl9vdXJQcm90b2NvbCwgdGhpcy5fcGFja2V0RGF0YUJ1ZmZlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfYnVpbGRBbmRTZW5kKGJ1aWxkZXI6IFNpbUNvbm5lY3RQYWNrZXRCdWlsZGVyKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCB0aGlzUGFja2V0SWQgPSB0aGlzLl9wYWNrZXRzU2VudDtcclxuICAgICAgICB0aGlzLl9jbGllbnRTb2NrZXQud3JpdGUoYnVpbGRlci5idWlsZCh0aGlzUGFja2V0SWQpKTtcclxuICAgICAgICB0aGlzLl9wYWNrZXRzU2VudCsrO1xyXG4gICAgICAgIHJldHVybiB0aGlzUGFja2V0SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfaGFuZGxlTWVzc2FnZSh7IHBhY2tldFR5cGVJZCwgZGF0YSB9OiBTaW1Db25uZWN0TWVzc2FnZSkge1xyXG4gICAgICAgIGlmICghKHBhY2tldFR5cGVJZCBpbiBSZWN2SUQpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIHBhY2tldCB0eXBlIGlkJywgcGFja2V0VHlwZUlkLCBkYXRhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN3aXRjaCAocGFja2V0VHlwZUlkKSB7XHJcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX05VTEw6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVhDRVBUSU9OOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdleGNlcHRpb24nLCBuZXcgUmVjdkV4Y2VwdGlvbihkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfT1BFTjpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcGVuVGltZW91dCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9vcGVuVGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3BlblRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdvcGVuJywgbmV3IFJlY3ZPcGVuKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9RVUlUOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdxdWl0Jyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2V2ZW50JywgbmV3IFJlY3ZFdmVudChkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfT0JKRUNUX0FERFJFTU9WRTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXZlbnRBZGRSZW1vdmUnLCBuZXcgUmVjdkV2ZW50QWRkUmVtb3ZlKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9FVkVOVF9GSUxFTkFNRTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXZlbnRGaWxlbmFtZScsIG5ldyBSZWN2RXZlbnRGaWxlbmFtZShkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfRlJBTUU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2V2ZW50RnJhbWUnLCBuZXcgUmVjdkV2ZW50RnJhbWUoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX1NJTU9CSkVDVF9EQVRBOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdzaW1PYmplY3REYXRhJywgbmV3IFJlY3ZTaW1PYmplY3REYXRhKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9TSU1PQkpFQ1RfREFUQV9CWVRZUEU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3NpbU9iamVjdERhdGFCeVR5cGUnLCBuZXcgUmVjdlNpbU9iamVjdERhdGEoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX1dFQVRIRVJfT0JTRVJWQVRJT046XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3dlYXRoZXJPYnNlcnZhdGlvbicsIG5ldyBSZWN2V2VhdGhlck9ic2VydmF0aW9uKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9DTE9VRF9TVEFURTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY2xvdWRTdGF0ZScsIG5ldyBSZWN2Q2xvdWRTdGF0ZShkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfQVNTSUdORURfT0JKRUNUX0lEOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdhc3NpZ25lZE9iamVjdElEJywgbmV3IFJlY3ZBc3NpZ25lZE9iamVjdElEKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9SRVNFUlZFRF9LRVk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3Jlc2VydmVkS2V5JywgbmV3IFJlY3ZSZXNlcnZlZEtleShkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfQ1VTVE9NX0FDVElPTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY3VzdG9tQWN0aW9uJywgbmV3IFJlY3ZDdXN0b21BY3Rpb24oZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX1NZU1RFTV9TVEFURTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnc3lzdGVtU3RhdGUnLCBuZXcgUmVjdlN5c3RlbVN0YXRlKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9DTElFTlRfREFUQTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY2xpZW50RGF0YScsIG5ldyBSZWN2U2ltT2JqZWN0RGF0YShkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfV0VBVEhFUl9NT0RFOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdldmVudFdlYXRoZXJNb2RlJywgbmV3IFJlY3ZFdmVudFdlYXRoZXJNb2RlKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9BSVJQT1JUX0xJU1Q6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FpcnBvcnRMaXN0JywgbmV3IFJlY3ZBaXJwb3J0TGlzdChkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfVk9SX0xJU1Q6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3Zvckxpc3QnLCBuZXcgUmVjdlZPUkxpc3QoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX05EQl9MSVNUOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCduZGJMaXN0JywgbmV3IFJlY3ZOREJMaXN0KGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9XQVlQT0lOVF9MSVNUOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd3YXlwb2ludExpc3QnLCBuZXcgUmVjdldheXBvaW50TGlzdChkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfTVVMVElQTEFZRVJfU0VSVkVSX1NUQVJURUQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2V2ZW50TXVsdGlwbGF5ZXJTZXJ2ZXJTdGFydGVkJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfTVVMVElQTEFZRVJfQ0xJRU5UX1NUQVJURUQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2V2ZW50TXVsdGlwbGF5ZXJDbGllbnRTdGFydGVkJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfTVVMVElQTEFZRVJfU0VTU0lPTl9FTkRFRDpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXZlbnRNdWx0aXBsYXllclNlc3Npb25FbmRlZCcpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX0VWRU5UX1JBQ0VfRU5EOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdldmVudFJhY2VFbmQnLCBuZXcgUmVjdkV2ZW50UmFjZUVuZChkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfUkFDRV9MQVA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2V2ZW50UmFjZUxhcCcsIG5ldyBSZWN2RXZlbnRSYWNlTGFwKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9FVkVOVF9FWDE6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2V2ZW50RXgxJywgbmV3IFJlY3ZFdmVudEV4MShkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRkFDSUxJVFlfREFUQTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZmFjaWxpdHlEYXRhJywgbmV3IFJlY3ZGYWNpbGl0eURhdGEoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX0ZBQ0lMSVRZX0RBVEFfRU5EOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdmYWNpbGl0eURhdGFFbmQnLCBuZXcgUmVjdkZhY2lsaXR5RGF0YUVuZChkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRkFDSUxJVFlfTUlOSU1BTF9MSVNUOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdmYWNpbGl0eU1pbmltYWxMaXN0JywgbmV3IFJlY3ZGYWNpbGl0eU1pbmltYWxMaXN0KGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9KRVRXQVlfREFUQTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnamV0d2F5RGF0YScsIG5ldyBSZWN2SmV0d2F5RGF0YShkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfQ09OVFJPTExFUlNfTElTVDpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY29udHJvbGxlcnNMaXN0JywgbmV3IFJlY3ZDb250cm9sbGVyc0xpc3QoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX0FDVElPTl9DQUxMQkFDSzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWN0aW9uQ2FsbGJhY2snLCBuZXcgUmVjdkFjdGlvbkNhbGxiYWNrKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9FTlVNRVJBVEVfSU5QVVRfRVZFTlRTOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdpbnB1dEV2ZW50c0xpc3QnLCBuZXcgUmVjdkVudW1lcmF0ZUlucHV0RXZlbnRzKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9HRVRfSU5QVVRfRVZFTlQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2dldElucHV0RXZlbnQnLCBuZXcgUmVjdkdldElucHV0RXZlbnQoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX1NVQlNDUklCRV9JTlBVVF9FVkVOVDpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnc3Vic2NyaWJlSW5wdXRFdmVudCcsIG5ldyBSZWN2U3Vic2NyaWJlSW5wdXRFdmVudChkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRU5VTUVSQVRFX0lOUFVUX0VWRU5UX1BBUkFNUzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZW51bWVyYXRlSW5wdXRFdmVudFBhcmFtcycsIG5ldyBSZWN2RW51bWVyYXRlSW5wdXRFdmVudFBhcmFtcyhkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfb3BlbigpIHtcclxuICAgICAgICB0aGlzLl9vcGVuVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBFcnJvcignT3BlbiB0aW1lb3V0JykpO1xyXG4gICAgICAgIH0sIDUwMDApO1xyXG5cclxuICAgICAgICBjb25zdCB2ZXJzaW9uID0gb3BlblBhY2tldERhdGFbdGhpcy5fb3VyUHJvdG9jb2xdO1xyXG4gICAgICAgIGlmICghdmVyc2lvbikge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuSW52YWxpZFByb3RvY29sKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2J1aWxkQW5kU2VuZChcclxuICAgICAgICAgICAgdGhpcy5fYmVnaW5QYWNrZXQoMHgwMSlcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcyNTYodGhpcy5fYXBwTmFtZSlcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMigwKVxyXG4gICAgICAgICAgICAgICAgLnB1dEJ5dGUoMHgwMClcclxuICAgICAgICAgICAgICAgIC5wdXRTdHJpbmcodmVyc2lvbi5hbGlhcywgMylcclxuICAgICAgICAgICAgICAgIC5wdXRJbnQzMih2ZXJzaW9uLm1ham9yKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHZlcnNpb24ubWlub3IpXHJcbiAgICAgICAgICAgICAgICAucHV0SW50MzIodmVyc2lvbi5idWlsZE1ham9yKVxyXG4gICAgICAgICAgICAgICAgLnB1dEludDMyKHZlcnNpb24uYnVpbGRNaW5vcilcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBTaW1Db25uZWN0Q29ubmVjdGlvbiwgQ29ubmVjdGlvbk9wdGlvbnMsIFNpbUNvbm5lY3RSZWN2RXZlbnRzIH07XHJcbm1vZHVsZS5leHBvcnRzID0geyBTaW1Db25uZWN0Q29ubmVjdGlvbiB9O1xyXG4iXX0=